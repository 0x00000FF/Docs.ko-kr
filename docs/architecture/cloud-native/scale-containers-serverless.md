---
title: 컨테이너 및 서버리스 애플리케이션 크기 조정
description: Azure Kubernetes Service를 사용 하 여 클라우드 네이티브 응용 프로그램을 확장 하 여 사용자 요구에 맞게 개별 컴퓨터 리소스를 늘리거나 응용 프로그램 클러스터의 컴퓨터 수를 늘립니다.
ms.date: 09/23/2019
ms.openlocfilehash: 2d0537fb3ed56beb4eccbf9b8c34a5d87793413b
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/23/2019
ms.locfileid: "73841014"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="fee46-103">컨테이너 및 서버리스 애플리케이션 크기 조정</span><span class="sxs-lookup"><span data-stu-id="fee46-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="fee46-104">응용 프로그램의 크기를 조정 하는 일반적인 방법에는 수직 확장 및 수평 확장 이라는 두 가지가 있습니다. 이전에는 하나의 호스트에 기능을 추가 하는 것을 참조 하지만, 후자는 전체 호스트 수에 추가 하는 것을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-104">There are two typical ways to scale an application: scaling up and scaling out. The former refers to adding capabilities to one host, while the latter refers to adding to the total number of hosts.</span></span> <span data-ttu-id="fee46-105">이에 대해 생각 하는 데 사용 하는 일반적인 비유는 마을에서 사용자와 일부 친구를 가져오는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-105">A common analogy to use to think about this is how to get yourself and some friends across town.</span></span> <span data-ttu-id="fee46-106">단 하나의 friend 인 경우 두 사용자의 레이스 자동차를 홉 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-106">If it's just one friend, you could hop into your two-seat race car.</span></span> <span data-ttu-id="fee46-107">그러나 3 또는 4 인 경우에는 SUVs 또는 minivan 중 하나를 사용 하 여 용량을 늘리기 위해 확장 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-107">But if it's three or four, you might need to take one of your SUVs or a minivan, scaling up to increase capacity.</span></span> <span data-ttu-id="fee46-108">총 수가 수십 개 이상으로 증가 하는 경우에는 여러 차량을 사용 해야 할 수 있습니다 (누군가가 버스를 구동 하지 않는 경우). 더 많은 인스턴스를 추가 하 여 확장 하는 개념을 보여 줍니다 (이 경우 더 많은 차량).</span><span class="sxs-lookup"><span data-stu-id="fee46-108">When your total number jumps up to a dozen or more, though, you probably need to take multiple vehicles (unless someone drives a bus), which demonstrates the concept of scaling out by adding more instances (in this case, more vehicles).</span></span> <span data-ttu-id="fee46-109">응용 프로그램에 적용 되는 방식을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-109">Let's see how this applies to our applications.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="fee46-110">간단한 해결 방법: 수직 확장</span><span class="sxs-lookup"><span data-stu-id="fee46-110">The simple solution: scaling up</span></span>

<span data-ttu-id="fee46-111">기존 서버를 업그레이드 하 여 더 많은 리소스 (CPU, 메모리, 디스크 i/o 속도, 네트워크 i/o 속도)를 제공 하는 프로세스를 *확장*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-111">The process of upgrading existing servers to give them more resources (CPU, memory, disk I/O speed, network I/O speed) is known as *scaling up*.</span></span> <span data-ttu-id="fee46-112">클라우드 네이티브 응용 프로그램에서 수직 확장은 일반적으로 실제 컴퓨터에서 실제 하드웨어를 구입 하 고 설치 하는 것을 의미 하지 않으며, 사용 가능한 옵션 목록에서 더 많은 지원 계획을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-112">In cloud-native applications, scaling up doesn't typically refer to purchasing and installing actual hardware on physical machines so much as choosing a more capable plan from a list of options available.</span></span> <span data-ttu-id="fee46-113">일반적으로 클라우드 네이티브 앱은 Kubernetes node 풀에서 개별 노드를 호스트 하는 데 사용 되는 VM (가상 머신) 크기를 수정 하 여 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-113">Cloud-native apps typically scale up by modifying the virtual machine (VM) size used to host the individual nodes in their Kubernetes node pool.</span></span> <span data-ttu-id="fee46-114">노드, 클러스터 및 pod와 같은 Kubernetes 개념은 [다음 섹션](leverage-containers-orchestrators.md)에서 자세히 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-114">Kubernetes concepts like nodes, clusters, and pods are described further in [the next section](leverage-containers-orchestrators.md).</span></span> <span data-ttu-id="fee46-115">Azure는 [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) 및 [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes)를 실행 하는 다양 한 VM 크기를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-115">Azure supports a wide variety of VM sizes running both [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span></span> <span data-ttu-id="fee46-116">응용 프로그램을 수직으로 확장 하려면 노드 VM 크기가 큰 새 노드 풀을 만든 다음 워크 로드를 새 풀로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-116">To vertically scale your application, create a new node pool with a larger node VM size and then migrate workloads to the new pool.</span></span> <span data-ttu-id="fee46-117">여기에는 현재 미리 보기로 제공 되는 기능인 [AKS 클러스터에 대 한 여러 노드 풀이](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-117">This requires [multiple node pools for your AKS cluster](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), a feature that is currently in preview.</span></span> <span data-ttu-id="fee46-118">서버를 사용 하지 않는 앱은 [프리미엄 계획](https://docs.microsoft.com/azure/azure-functions/functions-scale) 및 프리미엄 인스턴스 크기를 선택 하거나 다른 전용 app service 계획을 선택 하 여 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-118">Serverless apps scale up by choosing a [premium plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) and premium instance sizes or by choosing a different dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="fee46-119">클라우드-네이티브 앱 확장</span><span class="sxs-lookup"><span data-stu-id="fee46-119">Scaling out cloud-native apps</span></span>

<span data-ttu-id="fee46-120">클라우드 네이티브 앱은 노드를 추가 하거나 서비스 요청에 pod를 추가 하 여 확장을 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-120">Cloud-native apps support scaling out by adding additional nodes or pods to service requests.</span></span> <span data-ttu-id="fee46-121">이는 앱에 대 한 구성 설정 (예: [노드 풀 크기 조정](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually))을 조정 하거나 자동 크기 *조정을*통해 수동으로 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-121">This can be accomplished manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through *autoscaling*.</span></span> <span data-ttu-id="fee46-122">자동 크기 조정은 자동 온도 조절기에서 추가 열 또는 냉각을 호출 하 여 온도에 응답 하는 방법과 비슷하게 요청에 응답 하기 위해 앱에서 사용 하는 리소스를 조정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-122">Autoscaling adjusts the resources used by an app in order to respond to demand, similar to how a thermostat responds to temperature by calling for additional heating or cooling.</span></span> <span data-ttu-id="fee46-123">자동 크기 조정을 사용 하는 경우 수동 크기 조정을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-123">When using autoscaling, manual scaling is disabled.</span></span>

<span data-ttu-id="fee46-124">AKS 클러스터는 다음 두 가지 방법 중 하나로 크기를 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-124">AKS clusters can scale in one of two ways:</span></span>

- <span data-ttu-id="fee46-125">[클러스터 자동 크기 조정기](https://docs.microsoft.com/azure/aks/cluster-autoscaler)는 리소스 제약 조건으로 인해 노드에서 예약할 수 없는 Pod를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-125">The [cluster autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) watches for pods that can't be scheduled on nodes because of resource constraints.</span></span> <span data-ttu-id="fee46-126">필요에 따라 추가 노드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-126">It adds additional nodes as required.</span></span>
- <span data-ttu-id="fee46-127">**수평 pod autoscaler** 는 Kubernetes 클러스터에서 메트릭 서버를 사용 하 여 pod의 리소스 요구 사항을 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-127">The **horizontal pod autoscaler** uses the Metrics Server in a Kubernetes cluster to monitor the resource demands of pods.</span></span> <span data-ttu-id="fee46-128">서비스가 더 많은 리소스를 필요로 하는 경우 autoscaler는 pod의 수를 늘립니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-128">If a service needs more resources, the autoscaler increases the number of pods.</span></span>

<span data-ttu-id="fee46-129">그림 3-13에서는 이러한 두 크기 조정 서비스 간의 관계를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-129">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![App Service 계획을 확장 합니다.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="fee46-131">**그림 3-13**.</span><span class="sxs-lookup"><span data-stu-id="fee46-131">**Figure 3-13**.</span></span> <span data-ttu-id="fee46-132">App Service 계획을 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-132">Scaling out an App Service plan.</span></span>

<span data-ttu-id="fee46-133">이러한 서비스는 필요에 따라 pod 또는 노드 수를 줄일 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-133">These services can also reduce the number of pods or nodes as needed.</span></span> <span data-ttu-id="fee46-134">이러한 두 서비스는 함께 작동 하 고 종종 클러스터에 함께 배포 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-134">These two services can work together and are often deployed together in a cluster.</span></span> <span data-ttu-id="fee46-135">결합된 경우 Horizontal Pod Autoscaler는 애플리케이션 수요를 충족하는 데 필요한 개수의 Pod를 실행하는 데 중점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-135">When combined, the horizontal pod autoscaler is focused on running the number of pods required to meet application demand.</span></span> <span data-ttu-id="fee46-136">클러스터 자동 크기 조정기는 예약된 Pod를 지원하는 데 필요한 개수의 노드를 실행하는 데 중점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-136">The cluster autoscaler is focused on running the number of nodes required to support the scheduled pods.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="fee46-137">크기 조정 Azure Functions</span><span class="sxs-lookup"><span data-stu-id="fee46-137">Scaling Azure Functions</span></span>

<span data-ttu-id="fee46-138">Azure Functions 자동 확장을 지원 합니다. 기본 소비 계획은 들어오는 이벤트의 수에 따라 동적으로 리소스를 추가 (및 제거) 합니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-138">Azure Functions automatically supports scaling out. The default consumption plan adds (and removes) resources dynamically based on the number of triggering events coming in.</span></span> <span data-ttu-id="fee46-139">실행 횟수, 실행 시간 및 사용 된 메모리에 따라 함수가 실행 중일 때 사용 되는 계산 리소스에 대해서만 요금이 청구 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-139">You're only charged for compute resources being used when your functions are running based on the number of executions, execution time, and memory used.</span></span> <span data-ttu-id="fee46-140">프리미엄 요금제를 사용 하면 이러한 같은 기능을 사용할 수 있지만, 사용 되는 인스턴스 크기를 제어 하 고, 인스턴스를 이미 준비 (콜드 시작 지연 방지) 하 고, 함수를 실행할 전용 Vm을 구성할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-140">Using the premium plan, you get these same features but you can also control the instance sizes that are used, have instances already warmed up (to avoid cold start delays), and configure dedicated VMs on which to run your functions.</span></span> <span data-ttu-id="fee46-141">기본 구성은 대부분의 앱에서 경제적이 고 확장 가능한 솔루션을 제공 해야 하지만, premium 옵션을 사용 하면 개발자는 사용자 지정 Azure Functions 요구 사항에 유연 하 게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fee46-141">While the default configuration should provide an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span>

## <a name="references"></a><span data-ttu-id="fee46-142">참조</span><span class="sxs-lookup"><span data-stu-id="fee46-142">References</span></span>

- [<span data-ttu-id="fee46-143">여러 노드 풀 AKS</span><span class="sxs-lookup"><span data-stu-id="fee46-143">AKS Multiple Node Pools</span></span>](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)
- [<span data-ttu-id="fee46-144">AKS Cluster Autoscaler</span><span class="sxs-lookup"><span data-stu-id="fee46-144">AKS Cluster Autoscaler</span></span>](https://docs.microsoft.com/azure/aks/cluster-autoscaler)
- [<span data-ttu-id="fee46-145">자습서: AKS에서 응용 프로그램 크기 조정</span><span class="sxs-lookup"><span data-stu-id="fee46-145">Tutorial: Scale applications in AKS</span></span>](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale)
- [<span data-ttu-id="fee46-146">Azure Functions 크기 조정 및 호스팅</span><span class="sxs-lookup"><span data-stu-id="fee46-146">Azure Functions scale and hosting</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-scale)

>[!div class="step-by-step"]
><span data-ttu-id="fee46-147">[이전](deploy-containers-azure.md)
>[다음](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="fee46-147">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
