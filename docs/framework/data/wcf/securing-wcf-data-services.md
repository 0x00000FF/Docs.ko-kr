---
title: WCF Data Services에 보안 설정
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- securing application [WCF Data Services]
- WCF Data Services, security
ms.assetid: 99fc2baa-a040-4549-bc4d-f683d60298af
ms.openlocfilehash: 0fd966d696e08c74185dc2c3859fd74d90933296
ms.sourcegitcommit: d2ccb199ae6bc5787b4762e9ea6d3f6fe88677af
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/12/2019
ms.locfileid: "56092698"
---
# <a name="securing-wcf-data-services"></a><span data-ttu-id="2c020-102">WCF Data Services에 보안 설정</span><span class="sxs-lookup"><span data-stu-id="2c020-102">Securing WCF Data Services</span></span>
<span data-ttu-id="2c020-103">이 항목에서는 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]을 지원하는 서비스에 액세스하는 응용 프로그램 및 [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]의 개발, 배포 및 실행과 관련된 보안 고려 사항에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-103">This topic describes security considerations that are specific to developing, deploying, and running [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] and applications that access services that support the [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)].</span></span> <span data-ttu-id="2c020-104">또한 보안 [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] 응용 프로그램을 만들기 위한 권장 사항도 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-104">You should also follow recommendations for creating secure [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] applications.</span></span>  
  
 <span data-ttu-id="2c020-105">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 기반 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 서비스의 보안을 유지하는 방법을 계획할 때는 보안 주체의 ID를 검색하고 확인하는 프로세스인 인증과 인증된 보안 주체에서 요청된 리소스에 액세스할 수 있는지 여부를 확인하는 프로세스인 권한 부여를 처리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-105">When planning how to secure a [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]-based [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service, you must address both authentication, the process of discovering and verifying the identity of a principal, and authorization, the process of determining whether an authenticated principal is allowed to access the requested resources.</span></span> <span data-ttu-id="2c020-106">SSL을 사용하여 메시지를 암호화할지 여부도 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-106">You should also consider whether to encrypt the message by using SSL.</span></span>  
  
## <a name="authenticating-client-requests"></a><span data-ttu-id="2c020-107">클라이언트 요청 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-107">Authenticating Client Requests</span></span>  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="2c020-108">에서는 자체 인증을 구현하지 않고 데이터 서비스 호스트의 인증 프로비전을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-108">does not implement any kind of authentication of its own, but rather relies on the authentication provisions of the data service host.</span></span> <span data-ttu-id="2c020-109">즉, 서비스는 서비스에서 받는 요청이 이미 네트워크 호스트에 의해 인증되었고 호스트가 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]에서 제공하는 인터페이스를 통해 요청에 대한 보안 주체를 올바르게 식별했다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-109">This means that the service assumes that any request that it receives has already been authenticated by the network host and that the host has correctly identified the principle for the request appropriately via the interfaces provided by [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)].</span></span> <span data-ttu-id="2c020-110">이러한 인증 옵션과 접근 방법에 자세히 나와 [OData 및 인증 시리즈](https://go.microsoft.com/fwlink/?LinkId=200381)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-110">These authentication options and approaches are detailed in [OData and Authentication series](https://go.microsoft.com/fwlink/?LinkId=200381).</span></span>  
  
### <a name="authentication-options-for-a-wcf-data-service"></a><span data-ttu-id="2c020-111">WCF Data Services의 인증 옵션</span><span class="sxs-lookup"><span data-stu-id="2c020-111">Authentication Options for a WCF Data Service</span></span>  
 <span data-ttu-id="2c020-112">다음 표에서는 WCF Data Services에 대한 요청을 인증하는 데 사용할 수 있는 몇 가지 인증 메커니즘을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-112">The following table lists some of the authentication mechanisms that are available to help you authenticate requests to a WCF Data Service.</span></span>  
  
|<span data-ttu-id="2c020-113">인증 옵션</span><span class="sxs-lookup"><span data-stu-id="2c020-113">Authentication Options</span></span>|<span data-ttu-id="2c020-114">설명</span><span class="sxs-lookup"><span data-stu-id="2c020-114">Description</span></span>|  
|----------------------------|-----------------|  
|<span data-ttu-id="2c020-115">익명 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-115">Anonymous authentication</span></span>|<span data-ttu-id="2c020-116">HTTP 익명 인증을 사용하도록 설정되어 있는 경우 임의의 보안 주체에서 데이터 서비스에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-116">When HTTP anonymous authentication is enabled, any principle is able to connect to the data service.</span></span> <span data-ttu-id="2c020-117">익명 액세스를 위해서 자격 증명이 필요하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-117">Credentials are not required for anonymous access.</span></span> <span data-ttu-id="2c020-118">누구나 데이터 서비스에 액세스할 수 있도록 하려는 경우에만 이 옵션을 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="2c020-118">Use this option only when you want to allow anyone to access the data service.</span></span>|  
|<span data-ttu-id="2c020-119">기본 인증 및 다이제스트 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-119">Basic and digest authentication</span></span>|<span data-ttu-id="2c020-120">인증을 위해서는 사용자 이름 및 암호로 구성된 자격 증명이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-120">Credentials consisting of a user name and password are required for authentication.</span></span> <span data-ttu-id="2c020-121">Windows 클라이언트가 아닌 클라이언트의 인증을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-121">Supports authentication of non-Windows clients.</span></span> <span data-ttu-id="2c020-122">**보안 정보:**  기본 인증 자격 증명(사용자 이름 및 암호)은 보안되지 않은 상태로 보내지므로 누군가 이를 가로챌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-122">**Security Note:**  Basic authentication credentials (user name and password) are sent in the clear and can be intercepted.</span></span> <span data-ttu-id="2c020-123">다이제스트 인증은 제공된 자격 증명을 기반으로 한 해시를 보내므로 기본 인증보다 안전합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-123">Digest authentication sends a hash based-on the supplied credentials, which makes it more secure than basic authentication.</span></span> <span data-ttu-id="2c020-124">두 인증 모두 메시지 가로채기(man in the middle) 공격을 받기 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-124">Both are susceptible to man-in-the-middle attacks.</span></span> <span data-ttu-id="2c020-125">이 인증 방법을 사용할 때는 SSL(Secure Sockets Layer)을 사용하여 클라이언트와 데이터 서비스 간 통신을 암호화하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-125">When using these authentication methods, you should consider encrypting communication between client and the data service by using the Secure Sockets Layer (SSL).</span></span> <br /><br /> <span data-ttu-id="2c020-126">Microsoft IIS(인터넷 정보 서비스)는 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 응용 프로그램의 HTTP 요청에 대해 기본 인증 및 다이제스트 인증 구현을 모두 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-126">Microsoft Internet Information Services (IIS) provides an implementation of both basic and digest authentication for HTTP requests in an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application.</span></span> <span data-ttu-id="2c020-127">이 Windows 인증 공급자 구현을 통해 .NET Framework 클라이언트 응용 프로그램에서 요청의 HTTP 헤더에 있는 자격 증명을 데이터 서비스에 제공하여 Windows 사용자의 인증을 원활하게 협상할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-127">This Windows Authentication Provider implementation enables a .NET Framework client application to supply credentials in the HTTP header of the request to the data service to seamlessly negotiate authentication of a Windows user.</span></span> <span data-ttu-id="2c020-128">자세한 내용은 [다이제스트 인증 기술 참조](https://go.microsoft.com/fwlink/?LinkId=200408)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-128">For more information, see [Digest Authentication Technical Reference](https://go.microsoft.com/fwlink/?LinkId=200408).</span></span><br /><br /> <span data-ttu-id="2c020-129">데이터 서비스에서 Windows 자격 증명이 아닌 사용자 지정 인증 서비스를 기반으로 하는 기본 인증을 사용하도록 하려는 경우에는 인증에 대한 사용자 지정 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] HTTP 모듈을 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-129">When you want to have your data service use basic authentication based on some custom authentication service and not Windows credentials, you must implement a custom [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] HTTP Module for authentication.</span></span><br /><br /> <span data-ttu-id="2c020-130">사용자 지정 기본 인증 체계를 사용 하는 방법의 예로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], 게시물을 참조 [사용자 지정 기본 인증](https://go.microsoft.com/fwlink/?LinkID=200388) 에 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 및 인증 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-130">For an example of how to use a custom basic authentication scheme with [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], see the post on [Custom Basic Authentication](https://go.microsoft.com/fwlink/?LinkID=200388) in the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and authentication series.</span></span>|  
|<span data-ttu-id="2c020-131">Windows 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-131">Windows authentication</span></span>|<span data-ttu-id="2c020-132">Windows 기반 자격 증명은 NTLM 또는 Kerberos를 사용하여 교환됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-132">Windows-based credentials are exchanged by using NTLM or Kerberos.</span></span> <span data-ttu-id="2c020-133">이 메커니즘은 기본 인증 또는 다이제스트 인증보다 안전하지만 클라이언트가 Windows 기반 응용 프로그램이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-133">This mechanism is more secure than basic or digest authentication, but it requires that the client be a Windows-based application.</span></span> <span data-ttu-id="2c020-134">또한 IIS에서는 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 응용 프로그램의 HTTP 요청에 대한 Windows 인증 구현을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-134">IIS also provides an implementation of Windows authentication for HTTP requests in an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application.</span></span> <span data-ttu-id="2c020-135">자세한 내용은 [ASP.NET 폼 인증 개요](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100))합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-135">For more information, see [ASP.NET Forms Authentication Overview](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span></span><br /><br /> <span data-ttu-id="2c020-136">Windows 인증을 사용 하는 방법의 예로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], 게시물을 참조 [Windows 인증](https://go.microsoft.com/fwlink/?LinkID=200384) 에 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 및 인증 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-136">For an example of how to use Windows authentication with [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], see the post on [Windows Authentication](https://go.microsoft.com/fwlink/?LinkID=200384) in the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and authentication series.</span></span>|  
|[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] <span data-ttu-id="2c020-137">폼 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-137">forms authentication</span></span>|<span data-ttu-id="2c020-138">폼 인증을 사용하면 직접 작성한 코드로 사용자를 인증한 다음 인증 토큰을 쿠키나 페이지 URL에 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-138">Forms authentication lets you authenticate users by using your own code and then maintain an authentication token in a cookie or in the page URL.</span></span> <span data-ttu-id="2c020-139">만든 로그인 폼을 사용하여 사용자의 사용자 이름과 암호를 인증할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-139">You authenticate the user name and password of your users using a login form that you create.</span></span> <span data-ttu-id="2c020-140">인증되지 않은 요청은 로그인 페이지로 리디렉션되고 여기서 사용자는 자격 증명을 제공한 후 폼을 제출합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-140">Unauthenticated requests are redirected to a login page, where the user provides credentials and submits the form.</span></span> <span data-ttu-id="2c020-141">응용 프로그램에서 요청을 인증하는 경우 시스템에서는 이후 요청에 사용할 ID를 다시 설정하기 위한 키가 포함된 티켓을 발급합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-141">If the application authenticates the request, the system issues a ticket that contains a key for reestablishing the identity for subsequent requests.</span></span> <span data-ttu-id="2c020-142">자세한 내용은 [폼 인증 공급자](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100))합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-142">For more information, see [Forms Authentication Provider](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span></span> <span data-ttu-id="2c020-143">**보안 정보:**  기본적으로 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 웹 응용 프로그램에서 폼 인증을 사용하는 경우 폼 인증 티켓이 포함된 쿠키는 보안이 유지되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-143">**Security Note:**  By default, the cookie that contains the forms authentication ticket is not secured when you use forms authentication in a [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web application.</span></span> <span data-ttu-id="2c020-144">SSL을 사용하여 인증 티켓과 초기 로그인 자격 증명을 모두 보호하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-144">You should consider requiring SSL to protect both the authentication ticket and the initial login credentials.</span></span> <br /><br /> <span data-ttu-id="2c020-145">폼 인증을 사용 하는 방법의 예에 대 한 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]에서 게시물을 참조 [폼 인증](https://go.microsoft.com/fwlink/?LinkID=200389) 에 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 및 인증 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-145">For an example of how to use forms authentication with [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], see the post on [Forms Authentication](https://go.microsoft.com/fwlink/?LinkID=200389) in the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and authentication series.</span></span>|  
|<span data-ttu-id="2c020-146">클레임 기반 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-146">Claims-based authentication</span></span>|<span data-ttu-id="2c020-147">클레임 기반 인증 일 경우 데이터 서비스를 신뢰할 수 있는 "타사" id 공급자 서비스 사용자를 인증에 의존 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-147">In claims-based authentication, the data service relies on a trusted "third-party" identity provider service to authenticate the user.</span></span> <span data-ttu-id="2c020-148">ID 공급자는 데이터 서비스 리소스에 대한 액세스를 요청하는 사용자를 긍정적으로 인증하고 요청된 리소스에 대한 액세스 권한을 부여하는 토큰을 발급합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-148">The identity provider positively authenticates the user that is requesting access to data service resources and issues a token that grants access to the requested resources.</span></span> <span data-ttu-id="2c020-149">그런 다음 이 토큰이 데이터 서비스에 제공되며 이후에는 이 토큰을 통해 액세스 토큰을 발급한 ID 서비스와의 트러스트 관계를 기반으로 사용자에게 액세스 권한이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-149">This token is then presented to the data service, which then grants access to the user based on the trust relationship with the identity service that issued the access token.</span></span><br /><br /> <span data-ttu-id="2c020-150">클레임 기반 인증 공급자를 사용하여 얻을 수 있는 이점은 이 공급자를 사용하여 트러스트 도메인 간에 다양한 종류의 클라이언트를 인증할 수 있다는 사실입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-150">The benefit of using a claims-based authentication provider is that they can be used to authenticate various types of clients across trust domains.</span></span> <span data-ttu-id="2c020-151">이러한 타사 공급자를 사용하면 데이터 서비스에서 사용자를 유지 관리하고 인증하기 위한 요구 사항을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-151">By employing such a third-party provider, a data service can offload the requirements of maintaining and authenticating users.</span></span> <span data-ttu-id="2c020-152">OAuth 2.0은 Microsoft Azure AppFabric 액세스 제어에서 페더레이션 권한 부여를 위해 서비스로 지원하는 클레임 기반 인증 프로토콜입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-152">OAuth 2.0 is a claims-based authentication protocol that is supported by Windows Azure AppFabric Access Control for federated authorization as a service.</span></span> <span data-ttu-id="2c020-153">이 프로토콜은 REST 기반 서비스를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-153">This protocol supports REST-based services.</span></span> <span data-ttu-id="2c020-154">OAuth 2.0을 사용 하는 방법의 예로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], 게시물을 참조 [OData 및 OAuth](https://go.microsoft.com/fwlink/?LinkId=200514) 에 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 및 인증 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-154">For an example of how to use OAuth 2.0 with [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], see the post on [OData and OAuth](https://go.microsoft.com/fwlink/?LinkId=200514) in the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and authentication series.</span></span>|  
  
<a name="clientAuthentication"></a>   
### <a name="authentication-in-the-client-library"></a><span data-ttu-id="2c020-155">클라이언트 라이브러리의 인증</span><span class="sxs-lookup"><span data-stu-id="2c020-155">Authentication in the Client Library</span></span>  
 <span data-ttu-id="2c020-156">기본적으로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트 라이브러리는 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 서비스에 요청할 때 자격 증명을 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-156">By default, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library does not supply credentials when making a request to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service.</span></span> <span data-ttu-id="2c020-157">데이터 서비스에서 사용자를 인증하는 데 로그인 자격 증명이 필요한 경우, 다음 예와 같이 <xref:System.Net.NetworkCredential>의 <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> 속성에서 액세스하는 <xref:System.Data.Services.Client.DataServiceContext>에 이러한 자격 증명이 제공될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-157">When login credentials are required by the data service to authenticate a user, these credentials can be supplied in a <xref:System.Net.NetworkCredential> accessed from the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>, as in the following example:</span></span>  
  
```csharp  
// Set the client authentication credentials.  
context.Credentials =  
    new NetworkCredential(userName, password, domain);  
```  
  
```vb  
' Set the client authentication credentials.  
context.Credentials = _  
    New NetworkCredential(userName, password, domain)  
```  
  
 <span data-ttu-id="2c020-158">자세한 내용은 [방법: 데이터 서비스 요청에 대 한 클라이언트 자격 증명을 지정](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-158">For more information, see [How to: Specify Client Credentials for a Data Service Request](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md).</span></span>  
  
 <span data-ttu-id="2c020-159">데이터 서비스에 클레임 기반 토큰 또는 쿠키와 같은 <xref:System.Net.NetworkCredential> 개체를 사용하여 지정할 수 없는 로그인 자격 증명이 필요한 경우에는 HTTP 요청에 헤더(일반적으로 `Authorization` 및 `Cookie` 헤더)를 수동으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-159">When the data service requires login credentials that cannot be specified by using a <xref:System.Net.NetworkCredential> object, such as a claims-based token or cookie, you must manually set headers in the HTTP request, usually the `Authorization` and `Cookie` headers.</span></span> <span data-ttu-id="2c020-160">이러한 종류의 인증 시나리오에 대 한 자세한 내용은 게시물을 참조 하세요. [OData 및 인증: 클라이언트 쪽 후크](https://go.microsoft.com/fwlink/?LinkID=200385)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-160">For more information about this kind of authentication scenario, see the post [OData and Authentication: Client-Side Hooks](https://go.microsoft.com/fwlink/?LinkID=200385).</span></span> <span data-ttu-id="2c020-161">요청 메시지의 HTTP 헤더를 설정 하는 방법의 예제를 참조 하세요. [방법: 클라이언트 요청의 헤더 설정](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-161">For an example of how to set HTTP headers in a request message, see [How to: Set Headers in the Client Request](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md).</span></span>  
  
## <a name="impersonation"></a><span data-ttu-id="2c020-162">가장</span><span class="sxs-lookup"><span data-stu-id="2c020-162">Impersonation</span></span>  
 <span data-ttu-id="2c020-163">일반적으로 데이터 서비스는 데이터 서비스를 호스트하는 작업자 프로세스의 자격 증명을 사용하여 서버 또는 데이터베이스 파일과 같은 필요한 리소스에 액세스합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-163">Generally, the data service accesses required resources, such as files on the server or a database, by using the credentials of the worker process that is hosting the data service.</span></span> <span data-ttu-id="2c020-164">가장을 사용하는 경우 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 응용 프로그램은 요청하는 사용자의 Windows ID(사용자 계정)를 사용하여 실행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-164">When using impersonation, [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] applications can execute with the Windows identity (user account) of the user making the request.</span></span> <span data-ttu-id="2c020-165">가장은 IIS를 통해 사용자를 인증하는 응용 프로그램에서 주로 사용되며, 이 원칙의 자격 증명은 필요한 리소스에 액세스하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-165">Impersonation is commonly used in applications that rely on IIS to authenticate the user, and the credentials of this principle are used to access the required resources.</span></span> <span data-ttu-id="2c020-166">자세한 내용은 [ASP.NET 가장](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100))합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-166">For more information, see [ASP.NET Impersonation](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100)).</span></span>  
  
## <a name="configuring-data-service-authorization"></a><span data-ttu-id="2c020-167">데이터 서비스 권한 부여 구성</span><span class="sxs-lookup"><span data-stu-id="2c020-167">Configuring Data Service Authorization</span></span>  
 <span data-ttu-id="2c020-168">권한 부여는 이전에 성공적으로 이루어진 인증을 기반으로 식별된 프로세스 또는 원칙에 응용 프로그램 리소스에 대한 액세스 권한을 부여하는 과정입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-168">Authorization is the granting of access to application resources to a principle or process that is identified based on a previously successful authentication.</span></span> <span data-ttu-id="2c020-169">일반적으로 클라이언트 응용 프로그램에 필요한 작업을 수행하기에 충분한 권한만 데이터 서비스 사용자에게 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-169">As a general practice, you should only grant sufficient rights to users of the data service to perform the operations required by client applications.</span></span>  
  
### <a name="restrict-access-to-data-service-resources"></a><span data-ttu-id="2c020-170">데이터 서비스 리소스에 대한 액세스 제한</span><span class="sxs-lookup"><span data-stu-id="2c020-170">Restrict Access to Data Service Resources</span></span>  
 <span data-ttu-id="2c020-171">기본적으로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]를 사용하면 데이터 서비스에 액세스할 수 있는 사용자에게 데이터 서비스 리소스(엔터티 집합 및 서비스 작업)에 대한 일반적인 읽기 및 쓰기 액세스 권한을 부여할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-171">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] enables you to grant common read and write access against data service resources (entity set and service operations) to any user that is able to access the data service.</span></span> <span data-ttu-id="2c020-172">읽기 및 쓰기 액세스 권한을 정의하는 규칙은 데이터 서비스에서 노출하는 각 엔터티 집합뿐 아니라 서비스 작업에 대해 개별적으로 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-172">Rules that define read and write access can be defined separately for each entity set exposed by the data service, as well as to any service operations.</span></span> <span data-ttu-id="2c020-173">읽기 및 쓰기 액세스 권한은 클라이언트 응용 프로그램에 필요한 리소스로만 제한하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-173">We recommend limiting both read and write access to only the resources required by the client application.</span></span> <span data-ttu-id="2c020-174">자세한 내용은 [최소 리소스 액세스 요구 사항](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-174">For more information, see [Minimum Resource Access Requirements](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements).</span></span>  
  
### <a name="implement-role-based-interceptors"></a><span data-ttu-id="2c020-175">역할 기반 인터셉터 구현</span><span class="sxs-lookup"><span data-stu-id="2c020-175">Implement Role-Based Interceptors</span></span>  
 <span data-ttu-id="2c020-176">인터셉터를 사용하면 데이터 서비스 리소스에 대한 요청이 데이터 서비스에 의해 실행되기 전에 이 요청을 가로챌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-176">Interceptors enable you to intercept requests against data service resources before they are acted on by the data service.</span></span> <span data-ttu-id="2c020-177">자세한 내용은 [인터셉터](../../../../docs/framework/data/wcf/interceptors-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-177">For more information, see [Interceptors](../../../../docs/framework/data/wcf/interceptors-wcf-data-services.md).</span></span> <span data-ttu-id="2c020-178">인터셉터를 사용하면 요청을 하는 인증된 사용자를 기준으로 권한 부여 결정을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-178">Interceptors enable you to make authorization decisions based the authenticated user that is making the request.</span></span> <span data-ttu-id="2c020-179">인증된 된 사용자 id에 따라 데이터 서비스 리소스에 대 한 액세스를 제한 하는 방법의 예제를 참조 하세요. [방법: 데이터 서비스 메시지 가로채기](../../../../docs/framework/data/wcf/how-to-intercept-data-service-messages-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-179">For an example of how to restrict access to data service resources based on an authenticated user identity, see [How to: Intercept Data Service Messages](../../../../docs/framework/data/wcf/how-to-intercept-data-service-messages-wcf-data-services.md).</span></span>  
  
### <a name="restrict-access-to-the-persisted-data-store-and-local-resources"></a><span data-ttu-id="2c020-180">지속형 데이터 저장소 및 로컬 리소스에 대한 액세스 제한</span><span class="sxs-lookup"><span data-stu-id="2c020-180">Restrict Access to the Persisted Data Store and Local Resources</span></span>  
 <span data-ttu-id="2c020-181">지속형 저장소에 액세스하는 데 사용되는 계정에는 데이터베이스 또는 파일 시스템에서 데이터 서비스의 요구 사항을 지원하기에 충분한 권한만 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-181">The accounts that are used to access the persisted store should be granted only enough rights in a database or the file system to support the requirements of the data service.</span></span> <span data-ttu-id="2c020-182">익명 인증을 사용하는 경우 이 계정은 호스팅 응용 프로그램을 실행하는 데 사용되는 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-182">When anonymous authentication is used, this is the account used to run the hosting application.</span></span> <span data-ttu-id="2c020-183">자세한 내용은 [방법: IIS에서 실행 되는 WCF 데이터 서비스 개발](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-183">For more information, see [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span> <span data-ttu-id="2c020-184">가장을 사용하는 경우에는 인증된 사용자에게 일반적으로 Windows 그룹의 일부인 이러한 리소스에 대한 액세스 권한을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-184">When impersonation is used, authenticated users must be granted access to these resources, usually as part of a Windows group.</span></span>  
  
## <a name="other-security-considerations"></a><span data-ttu-id="2c020-185">기타 보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="2c020-185">Other Security Considerations</span></span>  
  
### <a name="secure-the-data-in-the-payload"></a><span data-ttu-id="2c020-186">페이로드 데이터 보안 설정</span><span class="sxs-lookup"><span data-stu-id="2c020-186">Secure the Data in the Payload</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="2c020-187">는 HTTP 프로토콜을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-187">is based on the HTTP protocol.</span></span> <span data-ttu-id="2c020-188">HTTP 메시지의 헤더에는 데이터 서비스에서 구현하는 인증에 따라 중요한 사용자 자격 증명이 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-188">In an HTTP message, the header may contain valuable user credentials, depending on the authentication implemented by the data service.</span></span> <span data-ttu-id="2c020-189">메시지 본문에는 보호해야 하는 중요한 고객 데이터가 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-189">The message body may also contain valuable customer data that must be protected.</span></span> <span data-ttu-id="2c020-190">이 두 경우 모두 SSL을 사용하여 네트워크에서 이 정보를 보호하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-190">In both of these cases, we recommend that you use SSL to protect this information over the wire.</span></span>  
  
### <a name="ignored-message-headers-and-cookies"></a><span data-ttu-id="2c020-191">무시되는 메시지 헤더 및 쿠키</span><span class="sxs-lookup"><span data-stu-id="2c020-191">Ignored Message Headers and Cookies</span></span>  
 <span data-ttu-id="2c020-192">콘텐츠 형식 및 리소스 위치를 선언하는 헤더를 제외한 HTTP 요청 헤더는 무시되며 데이터 서비스에서 설정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-192">HTTP request headers, other than those that declare content types and resource locations, are ignored and are never set by the data service.</span></span>  
  
 <span data-ttu-id="2c020-193">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 폼 인증에서와 같이 쿠키를 인증 체계의 일부로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-193">Cookies can be used as part of an authentication scheme, such as with [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Forms Authentication.</span></span> <span data-ttu-id="2c020-194">그러나 들어오는 요청에 설정된 HTTP 쿠키는 모두 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]에서 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-194">However, any HTTP cookies set on an incoming request are ignored by [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)].</span></span> <span data-ttu-id="2c020-195">데이터 서비스의 호스트가 쿠키를 처리할 수 있지만 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 런타임에서는 쿠키를 분석하거나 반환하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-195">The host of a data service may process the cookie, but the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] runtime never analyzes or returns cookies.</span></span> <span data-ttu-id="2c020-196">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트 라이브러리에서도 응답에 보내지는 쿠키를 처리하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-196">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library also does not process cookies sent in the response.</span></span>  
  
### <a name="custom-hosting-requirements"></a><span data-ttu-id="2c020-197">사용자 지정 호스팅 요구 사항</span><span class="sxs-lookup"><span data-stu-id="2c020-197">Custom Hosting Requirements</span></span>  
 <span data-ttu-id="2c020-198">기본적으로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]는 IIS에서 호스트되는 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 응용 프로그램으로 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-198">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] is created as an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application hosted in IIS.</span></span> <span data-ttu-id="2c020-199">따라서 데이터 서비스에서 이 플랫폼의 보안 동작을 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-199">This enables the data service to leverage the secure behaviors of this platform.</span></span> <span data-ttu-id="2c020-200">사용자 지정 호스트에서 호스트되는 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-200">You can define [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that are hosted by a custom host.</span></span> <span data-ttu-id="2c020-201">자세한 내용은 [데이터 서비스 호스팅](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-201">For more information, see [Hosting the Data Service](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="2c020-202">데이터 서비스를 호스트하는 구성 요소 및 플랫폼에서는 다음 보안 동작을 통해 데이터 서비스에 대한 공격을 방지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-202">The components and platform hosting a data service must ensure the following security behaviors to prevent attacks on the data service:</span></span>  
  
-   <span data-ttu-id="2c020-203">가능한 모든 작업에 대한 데이터 서비스 요청에서 수락되는 URI의 길이를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-203">Limit the length of the URI accepted in a data service request for all possible operations.</span></span>  
  
-   <span data-ttu-id="2c020-204">들어오고 나가는 HTTP 메시지의 크기를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-204">Limit the size of both incoming and outgoing HTTP messages.</span></span>  
  
-   <span data-ttu-id="2c020-205">주어진 시간에 처리되지 않는 요청의 총 개수를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-205">Limit the total number of outstanding requests at any given time.</span></span>  
  
-   <span data-ttu-id="2c020-206">HTTP 헤더와 헤더 값의 크기를 제한하고 헤더 데이터에 대한 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 액세스 권한을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-206">Limit the size of HTTP headers and their values, and provide [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] access to header data.</span></span>  
  
-   <span data-ttu-id="2c020-207">TCP SYN 및 메시지 재생 공격과 같은 알려진 공격을 검색하여 대처합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-207">Detect and counter known attacks, such as TCP SYN and message replay attacks.</span></span>  
  
### <a name="values-are-not-further-encoded"></a><span data-ttu-id="2c020-208">값이 더 이상 인코딩되지 않음</span><span class="sxs-lookup"><span data-stu-id="2c020-208">Values Are Not Further Encoded</span></span>  
 <span data-ttu-id="2c020-209">데이터 서비스에 보내지는 속성 값은 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 런타임에서 더 이상 인코딩되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-209">Property values sent to the data service are not further encoded by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] runtime.</span></span> <span data-ttu-id="2c020-210">예를 들어, 엔터티의 문자열 속성에 서식이 지정된 HTML 콘텐츠가 포함되어 있는 경우 데이터 서비스에서 태그를 HTML로 인코딩하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-210">For example, when a string property of an entity contains formatted HTML content, the tags are not HTML encoded by the data service.</span></span> <span data-ttu-id="2c020-211">또한 데이터 서비스에서 응답의 속성 값을 더 이상 인코딩하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-211">The data service also does not further encode property values in the response.</span></span> <span data-ttu-id="2c020-212">그리고 클라이언트 라이브러리에서도 추가 인코딩을 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-212">The client library also does not perform any additional encoding.</span></span>  
  
### <a name="considerations-for-client-applications"></a><span data-ttu-id="2c020-213">클라이언트 응용 프로그램에 대한 고려 사항</span><span class="sxs-lookup"><span data-stu-id="2c020-213">Considerations for Client Applications</span></span>  
 <span data-ttu-id="2c020-214">다음 보안 고려 사항은 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트를 사용하여 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 서비스에 액세스하는 응용 프로그램에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-214">The following security considerations apply to applications that use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client to access [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services:</span></span>  
  
-   <span data-ttu-id="2c020-215">클라이언트 라이브러리는 데이터 서비스에 액세스하는 데 사용되는 프로토콜에서 적절한 수준의 보안을 제공한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-215">The client library assumes that the protocols used to access the data service provide an appropriate level of security.</span></span>  
  
-   <span data-ttu-id="2c020-216">클라이언트 라이브러리에서는 기본 플랫폼 제공 전송 스택의 시간 제한 및 구문 분석 옵션에 대해 모든 기본값을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-216">The client library uses all the default values for timeouts and parsing options of the underlying platform-provided transport stacks.</span></span>  
  
-   <span data-ttu-id="2c020-217">클라이언트 라이브러리는 응용 프로그램 구성 파일에서 설정을 읽지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-217">The client library does not read any settings from application configuration files.</span></span>  
  
-   <span data-ttu-id="2c020-218">클라이언트 라이브러리는 도메인 간 액세스 메커니즘을 구현하지 않고</span><span class="sxs-lookup"><span data-stu-id="2c020-218">The client library does not implement any cross domain access mechanisms.</span></span> <span data-ttu-id="2c020-219">기본 HTTP 스택에서 제공하는 메커니즘을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-219">Instead, it relies on the mechanisms provided by the underlying HTTP stack.</span></span>  
  
-   <span data-ttu-id="2c020-220">클라이언트 라이브러리는 사용자 인터페이스 요소를 포함하고 있지 않으며 보내거나 받는 데이터를 표시하거나 렌더링하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-220">The client library has no user interface elements, and it never tries to display or render the data that it receives or sends.</span></span>  
  
-   <span data-ttu-id="2c020-221">클라이언트 응용 프로그램에서는 신뢰할 수 없는 서비스에서 수락하는 데이터뿐 아니라 사용자 입력의 유효성을 항상 검사하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c020-221">We recommend that client applications always validate user input as well as data accepted from untrusted services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2c020-222">참고자료</span><span class="sxs-lookup"><span data-stu-id="2c020-222">See also</span></span>
- [<span data-ttu-id="2c020-223">WCF Data Services 정의</span><span class="sxs-lookup"><span data-stu-id="2c020-223">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
- [<span data-ttu-id="2c020-224">WCF Data Services 클라이언트 라이브러리</span><span class="sxs-lookup"><span data-stu-id="2c020-224">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
