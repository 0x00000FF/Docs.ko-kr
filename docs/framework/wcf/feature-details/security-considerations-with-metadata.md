---
title: 메타데이터 관련 보안 고려 사항
ms.date: 03/30/2017
ms.assetid: e78ef8ab-4f63-4656-ab93-b1deab2666d5
author: BrucePerlerMS
ms.openlocfilehash: 1469e5b48fbbdcbb289e4ca3147145688e1669f4
ms.sourcegitcommit: fb78d8abbdb87144a3872cf154930157090dd933
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/26/2018
ms.locfileid: "47193920"
---
# <a name="security-considerations-with-metadata"></a><span data-ttu-id="8f2b4-102">메타데이터 관련 보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="8f2b4-102">Security Considerations with Metadata</span></span>
<span data-ttu-id="8f2b4-103">메타 데이터 기능에서 Windows Communication Foundation (WCF)을 사용 하는 경우 게시, 검색 및 서비스 메타 데이터를 사용 하 여 보안 문제를 고려 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-103">When using the metadata features in Windows Communication Foundation (WCF), consider the security implications of publishing, retrieving, and using service metadata.</span></span>  
  
## <a name="when-to-publish-metadata"></a><span data-ttu-id="8f2b4-104">메타데이터 게시 시기</span><span class="sxs-lookup"><span data-stu-id="8f2b4-104">When to Publish Metadata</span></span>  
 <span data-ttu-id="8f2b4-105">WCF 서비스는 기본적으로 메타 데이터를 게시 하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-105">WCF services do not publish metadata by default.</span></span> <span data-ttu-id="8f2b4-106">WCF 서비스에 대 한 메타 데이터를 게시 하면 명시적으로 활성화 해야 메타 데이터 게시 서비스에 메타 데이터 끝점을 추가 하 여 (참조 [메타 데이터 게시](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span><span class="sxs-lookup"><span data-stu-id="8f2b4-106">To publish metadata for a WCF service you must explicitly enable metadata publishing by adding metadata endpoints to your service (see [Publishing Metadata](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span></span> <span data-ttu-id="8f2b4-107">메타데이터 게시를 사용하지 않으면 서비스에서 공격 받을 수 있는 부분이 줄어들고 실수로 정보가 공개될 위험이 감소합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-107">Leaving metadata publishing disabled reduces the attack surface for your service and lowers the risk of unintentional information disclosure.</span></span> <span data-ttu-id="8f2b4-108">모든 서비스에서 메타데이터를 게시해야 하는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-108">Not all services must publish metadata.</span></span> <span data-ttu-id="8f2b4-109">메타데이터를 게시할 필요가 없는 경우 해제된 상태로 두세요.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-109">If you do not have to publish metadata, consider leaving it turned off.</span></span> <span data-ttu-id="8f2b4-110">직접 사용 하 여 서비스 어셈블리에서에서 메타 데이터와 클라이언트 코드를 생성할 수 있습니다 note 합니다 [ServiceModel Metadata 유틸리티 도구 (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-110">Note that you can still generate metadata and client code directly from your service assemblies using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="8f2b4-111">Svcutil.exe를 사용 하 여 메타 데이터 내보내기에 대 한 자세한 내용은 참조 하세요. [방법: 컴파일된 서비스 코드에서 메타 데이터 내보내기에 사용 하 여 Svcutil.exe](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-111">For more information about using Svcutil.exe to export metadata, see [How to: Use Svcutil.exe to Export Metadata from Compiled Service Code](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span></span>  
  
## <a name="publishing-metadata-using-a-secure-binding"></a><span data-ttu-id="8f2b4-112">보안 바인딩을 사용하여 메타데이터 게시</span><span class="sxs-lookup"><span data-stu-id="8f2b4-112">Publishing Metadata Using a Secure Binding</span></span>  
 <span data-ttu-id="8f2b4-113">WCF 안전 하지 않은 제공 하는 기본 메타 데이터 바인딩이 있으며 메타 데이터에 대 한 익명 액세스를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-113">The default metadata bindings that WCF provides are not secure and they allow anonymous access to the metadata.</span></span> <span data-ttu-id="8f2b4-114">WCF 서비스를 게시 하는 서비스 메타 데이터 서비스에 대 한 자세한 설명을 포함 하 고 의도적으로 또는 실수로 중요 한 정보가 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-114">The service metadata that a WCF service publishes contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="8f2b4-115">예를 들어 서비스 메타데이터에 공개적으로 브로드캐스팅하지 않으려는 인프라 작업 정보가 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-115">For example, service metadata may contain information about infrastructure operations that was not intended to be broadcast publicly.</span></span> <span data-ttu-id="8f2b4-116">무단 액세스로부터 서비스 메타데이터를 보호하려면 메타데이터 끝점에 보안 바인딩을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-116">To protect service metadata from unauthorized access, you can use a secure binding for your metadata endpoint.</span></span> <span data-ttu-id="8f2b4-117">메타데이터 엔드포인트는 SSL(Secure Sockets Layer)을 사용하여 메타데이터 보안을 유지할 수 있는 HTTP/GET 요청에 응답합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-117">Metadata endpoints respond to HTTP/GET requests that can use Secure Sockets Layer (SSL) to secure the metadata.</span></span> <span data-ttu-id="8f2b4-118">자세한 내용은 [방법: 메타 데이터 끝점 보안](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-118">For more information, see [How to: Secure Metadata Endpoints](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md).</span></span>  
  
 <span data-ttu-id="8f2b4-119">또한 메타데이터 엔드포인트에 보안을 설정하면 변조나 스푸핑의 위험 없이 안전하게 서비스 메타데이터를 검색하는 방법이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-119">Securing your metadata endpoints also provides a way for requesters to securely retrieve service metadata without the risk of tampering or spoofing.</span></span>  
  
## <a name="using-only-trusted-metadata"></a><span data-ttu-id="8f2b4-120">신뢰할 수 있는 메타데이터만 사용</span><span class="sxs-lookup"><span data-stu-id="8f2b4-120">Using Only Trusted Metadata</span></span>  
 <span data-ttu-id="8f2b4-121">서비스 메타데이터를 사용하여 서비스를 호출하는 데 필요한 런타임 구성 요소를 자동으로 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-121">You can use service metadata to automatically construct the run-time components required to call the service.</span></span> <span data-ttu-id="8f2b4-122">디자인 타임에 메타데이터를 사용하여 클라이언트 응용 프로그램을 개발하거나 런타임에 클라이언트가 서비스 호출에 사용하는 바인딩을 동적으로 업데이트할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-122">You can also use metadata at design time to develop a client application or at runtime to dynamically update the binding a client uses to call a service.</span></span>  
  
 <span data-ttu-id="8f2b4-123">서비스 메타데이터를 보안되지 않은 방식으로 검색하면 해당 서비스 메타데이터가 변조되거나 스푸핑될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-123">Service metadata can be tampered with or spoofed when retrieved in an insecure manner.</span></span> <span data-ttu-id="8f2b4-124">조작된 메타데이터는 클라이언트를 악의적인 서비스로 리디렉션하거나, 손상된 보안 설정을 포함하거나, 악의적인 XML 구조를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-124">Tampered metadata can redirect your client to a malicious service, contain compromised security settings, or contain malicious XML structures.</span></span> <span data-ttu-id="8f2b4-125">메타데이터 문서는 클 수 있으며 자주 파일 시스템에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-125">Metadata documents can be large and are frequently saved to the file system.</span></span> <span data-ttu-id="8f2b4-126">변조 및 스푸핑으로부터 보호하려면 가능한 경우 보안 바인딩을 사용하여 서비스 메타데이터를 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-126">To protect against tampering and spoofing, use a secure binding to request service metadata when one is available.</span></span>  
  
## <a name="using-safe-techniques-for-processing-metadata"></a><span data-ttu-id="8f2b4-127">안전한 메타데이터 처리 기술 사용</span><span class="sxs-lookup"><span data-stu-id="8f2b4-127">Using Safe Techniques for Processing Metadata</span></span>  
 <span data-ttu-id="8f2b4-128">서비스 메타데이터는 WS-MEX(MetadataExchange) 등의 표준화된 프로토콜을 사용하여 네트워크를 통해 서비스에서 자주 검색됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-128">Service metadata is frequently retrieved from a service over a network using standardized protocols such as WS-MetadataExchange (MEX).</span></span> <span data-ttu-id="8f2b4-129">많은 메타데이터 형식에는 추가 메타데이터를 가리키는 참조 메커니즘이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-129">Many metadata formats include referencing mechanisms for pointing to additional metadata.</span></span> <span data-ttu-id="8f2b4-130"><xref:System.ServiceModel.Description.MetadataExchangeClient> 형식은 WSDL(웹 서비스 기술 언어) 문서, XML 스키마 및 MEX 문서의 참조를 자동으로 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-130">The <xref:System.ServiceModel.Description.MetadataExchangeClient> type automatically processes references for you in Web Services Description Language (WSDL) documents, XML Schema, and MEX documents.</span></span> <span data-ttu-id="8f2b4-131">검색된 메타데이터로 만든 <xref:System.ServiceModel.Description.MetadataSet> 개체의 크기는 사용된 <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> 인스턴스의 <xref:System.ServiceModel.Description.MetadataExchangeClient> 값과 해당 `MaxReceivedMessageSize` 인스턴스에서 사용하는 바인딩의 <xref:System.ServiceModel.Description.MetadataExchangeClient> 값에 정비례합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-131">The size of the <xref:System.ServiceModel.Description.MetadataSet> object created from the retrieved metadata is directly proportional to the <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> value for the <xref:System.ServiceModel.Description.MetadataExchangeClient> instance that is used and the `MaxReceivedMessageSize` value for the binding being used by that <xref:System.ServiceModel.Description.MetadataExchangeClient> instance.</span></span> <span data-ttu-id="8f2b4-132">이 할당량을 시나리오에 적합한 값으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-132">Set these quotas to appropriate values as dictated by your scenario.</span></span>  
  
 <span data-ttu-id="8f2b4-133">Wcf에서 서비스 메타 데이터는 XML로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-133">In WCF, service metadata is processed as XML.</span></span> <span data-ttu-id="8f2b4-134">응용 프로그램이 XML 문서를 처리할 때 악의적인 XML 구조로부터 보호되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-134">When processing XML documents, applications should protect themselves against malicious XML structures.</span></span> <span data-ttu-id="8f2b4-135">사용 된 `XmlDictionaryReader` 사용 하 여 XML을 처리할 때 적절 한 할당량을 설정할 수도 합니다 <xref:System.Xml.XmlTextReader.DtdProcessing%2A> 속성을 `Prohibit`.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-135">Use the `XmlDictionaryReader` with appropriate quotas when processing XML and also set the <xref:System.Xml.XmlTextReader.DtdProcessing%2A> property to `Prohibit`.</span></span>  
  
 <span data-ttu-id="8f2b4-136">WCF의 메타 데이터 시스템은 확장 가능 하 고 응용 프로그램 구성 파일에서 메타 데이터 확장을 등록할 수 있습니다 (참조 [메타 데이터 시스템 확장](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span><span class="sxs-lookup"><span data-stu-id="8f2b4-136">The metadata system in WCF is extensible and metadata extensions can be registered in your application configuration file (see [Extending the Metadata System](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span></span> <span data-ttu-id="8f2b4-137">메타데이터 확장에서 임의 코드를 실행할 수 있으므로 적절한 ACL(액세스 제어 목록)로 응용 프로그램 구성 파일을 보호하고 신뢰할 수 있는 메타데이터 확장명 구현만 등록해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-137">Metadata extensions can run arbitrary code, so you should protect your application configuration file with appropriate access control lists (ACLs) and register only trusted metadata extension implementations.</span></span>  
  
## <a name="validating-generated-clients"></a><span data-ttu-id="8f2b4-138">생성된 클라이언트의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="8f2b4-138">Validating Generated Clients</span></span>  
 <span data-ttu-id="8f2b4-139">신뢰할 수 없는 소스에서 검색된 메타데이터로 클라이언트 코드를 생성하는 경우 해당 클라이언트 코드의 유효성을 검사하여 생성된 클라이언트가 클라이언트 응용 프로그램 보안 정책을 준수하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-139">When generating client code from metadata retrieved from a source that is not trusted, validate the generated client code to ensure that the generated client conforms to your client applications security policies.</span></span> <span data-ttu-id="8f2b4-140">유효성 검사 동작을 사용하여 클라이언트 바인딩의 설정을 확인하거나 도구에서 생성된 코드를 눈으로 보면서 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-140">You can use a validating behavior to check settings on your client binding or visually inspect code generated by tools.</span></span> <span data-ttu-id="8f2b4-141">동작의 유효성을 검사 하는 클라이언트를 구현 하는 방법의 예제를 참조 하세요 [클라이언트 유효성 검사](../../../../docs/framework/wcf/samples/client-validation.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-141">For an example of how to implement a client that validates behaviors, see [Client Validation](../../../../docs/framework/wcf/samples/client-validation.md).</span></span>  
  
## <a name="protecting-application-configuration-files"></a><span data-ttu-id="8f2b4-142">응용 프로그램 구성 파일 보호</span><span class="sxs-lookup"><span data-stu-id="8f2b4-142">Protecting Application Configuration Files</span></span>  
 <span data-ttu-id="8f2b4-143">서비스의 응용 프로그램 구성 파일은 메타데이터 게시 방법과 게시 여부를 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-143">A service's application configuration file may control how and if metadata is published.</span></span> <span data-ttu-id="8f2b4-144">적절한 ACL로 응용 프로그램 구성 파일을 보호하여 공격자가 이러한 설정을 수정할 수 없도록 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="8f2b4-144">It is a good idea to protect the application configuration file with appropriate access control lists (ACLs) to ensure an attacker cannot modify such settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8f2b4-145">참고 항목</span><span class="sxs-lookup"><span data-stu-id="8f2b4-145">See Also</span></span>  
 [<span data-ttu-id="8f2b4-146">방법: 메타데이터 엔드포인트 보안 설정</span><span class="sxs-lookup"><span data-stu-id="8f2b4-146">How to: Secure Metadata Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md)  
 [<span data-ttu-id="8f2b4-147">보안</span><span class="sxs-lookup"><span data-stu-id="8f2b4-147">Security</span></span>](../../../../docs/framework/wcf/feature-details/security.md)
