---
title: "PNRP 캐시 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: 4
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 4
---
# PNRP 캐시
피어 이름 확인 프로토콜 \(PNRP\) 캐시 알고리즘 선택된 피어 끝점에 피어 유지의 로컬 컬렉션입니다.  
  
## PNRP 캐시 초기화  
 피어 노드를 시작할 경우 PNRP 캐시 또는 피어 이름 레코드 컬렉션을 초기화 하려면 노드는 다음 방법을 사용할 수 있습니다.  
  
-   노드가 종료 될 때 있었던 영구 캐시 항목은 하드 디스크 저장소에서 로드 됩니다.  
  
-   응용 프로그램에서 P2P 공동 작업 인프라를 사용 하는 경우 공동 작업 정보를 해당 노드의 연락처 관리자에서 사용할 수 있습니다.  
  
## 다중 수준 캐시로 피어 이름 확인 확장  
 PNRP 캐시의 크기를 작게 유지 하려면 각 수준에는 항목의 최대 수 있는 다중 수준 캐시로 피어 노드를 사용 합니다.  캐시의 각 수준은 PNRP ID 번호 공간 작은 1\/10 부분 나타냅니다 \(2<sup>256</sup>\).  최하위 수준 캐시에 로컬로 등록 된 PNRP ID와 해당 숫자로 가까운 다른 PNRP Id를 포함 합니다.  캐시 수준을 최대 20 개의 항목으로 채워지면 새로운 하위 수준이 생성 됩니다.  최대 캐시에서 수준 로그 순서는10\(총 클라우드는 PNRP Id 수\).  예를 들어, 1 억 PNRP Id를 가진 글로벌 클라우드의 경우는 8 개 \(\= 로그10\(100000000\)\) 수준 캐시와 비슷한 수의 이름을 확인 하는 동안 PNRP ID를 확인 하는 홉 수입니다.  이 메커니즘을 분산된 해시 테이블을 임의 PNRP ID는 해당 CPA와 피어를 찾을 때까지 다음으로 가까운 피어에 PNRP 요청 메시지를 전달 하 여 확인할 수 있습니다.  
  
 해상도, 노드 캐시의 최하위 수준에 항목을 추가 하는 각 시간 마칠 수 수 복사본을 캐시의 마지막 수준 내에 있는 모든 노드를 보냅니다.  
  
 캐시 항목은 시간이 지남에 따라 새로 고쳐집니다.  오래 된 캐시 항목이 캐시에서 제거 됩니다.  현재 끝점을 DNS 주소 레코드와 DNS 프로토콜 적극적으로 주소와 연결 된 노드는 네트워크에 연결 되어 보장이 제공 달리 PNRP Id의 분산된 된 해시 테이블 기반으로 만들어집니다.  
  
## 다른 PNRP 캐시  
 다른 영구 데이터 저장소는 로컬 캐시입니다.  PNRP 활동에 필요한 다른 개체 뿐 아니라, 안전 하 게 게시 하 고 클라우드의 모든 구성원 간에 동기화 되는 PNRP 클라우드 또는 공동 작업 세션에 연결 된 레코드가 있습니다.  이 복제 된 저장소 그룹의 모든 멤버에 대해 동일 해야 하는 그룹 데이터 뷰를를 나타냅니다.  기술적으로 이러한 개체 레코드 자체가 아니라 응용 프로그램 상태 정보 및 개체 데이터에 대 한 로컬 캐시를 대상으로 하지만 수 없습니다.  PNRP 클라우드 사용 개체 모든 노드에 공동 작업 세션 또는 PNRP 클라우드 \(cloud\)에 전파 되 게 합니다.  클라우드 구성원 간의 레코드 복제 데이터 무결성 및 암호화를 위해 SSL을 사용 합니다.  
  
 클라우드는 피어에 가입 하면가 자동으로 로컬 캐시 데이터에 연결할 호스트 피어 로부터 나타나지 않습니다. 응용 프로그램 및 현재 상태 데이터 개체에서 업데이트를 받으려면 호스트 피어에 가입 해야 합니다.  초기 동기화 후 피어가 복제 된 저장소 그룹의 모든 구성원이 일관 되 게 동일한 보기를 가질 수 있도록 정기적으로 다시 동기화 합니다.  또한 공동 작업 세션 또는 응용 프로그램에서 공동 작업 세션 같은 기능을 수행할 수 있습니다.  
  
 클라우드의 경우 공동 작업 세션을 시작한 후 응용 프로그램 피어를 등록 하 고 클라우드 범위에서 정의 된 보안을 사용 하 여 해당 정보를 게시를 시작 합니다.  클라우드 피어에 가입 하면 클라우드에 대 한 보안 메커니즘 제공 하는 범위에 참여 하는 피어에 적용 됩니다.  다음 클라우드 범위 내에서 해당 레코드를 안전 하 게 게시할 수 있습니다.  클라우드 범위는 공동 작업 응용 프로그램 범위 않을 참고.  
  
 피어가 다른 피어에서 개체를 받도록을 등록할 수 있습니다.  개체가 업데이트 되 면 공동 작업 응용 프로그램에 알리는 및 새 개체는 응용 프로그램의 모든 구독자로 전달 됩니다.  예를 들어, 그룹 채팅 응용 프로그램에 피어가 모든 채팅 레코드가 응용 프로그램 데이터를 보낼 응용 프로그램 정보를 받도록을 등록할 수 있습니다.  이렇게 하면 클라우드 내의 채팅 활동을 모니터링할 수 있습니다.  
  
## 참고 항목  
 <xref:System.Net.PeerToPeer>