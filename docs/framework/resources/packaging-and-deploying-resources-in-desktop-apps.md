---
title: .NET 앱에서 리소스 패키징 및 배포
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- single resource assembly
- satellite assemblies
- default culture for applications
- names [.NET Framework], resources
- fallback process for resources
- grouping cultures
- application resources, deploying
- application resources, naming conventions
- culture, packaging and deploying resources
- resource files, naming conventions
- packaging application resources
- application resources, fallback processes
- resource files, fallback processes
- localizing resources
- neutral cultures
ms.assetid: b224d7c0-35f8-4e82-a705-dd76795e8d16
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 417550397582641c5a8fa97c061377beadfb0e6f
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/17/2019
ms.locfileid: "71045575"
---
# <a name="packaging-and-deploying-resources-in-net-apps"></a><span data-ttu-id="ac804-102">.NET 앱에서 리소스 패키징 및 배포</span><span class="sxs-lookup"><span data-stu-id="ac804-102">Packaging and Deploying Resources in .NET Apps</span></span>

<span data-ttu-id="ac804-103">애플리케이션은 <xref:System.Resources.ResourceManager> 클래스가 나타내는 .NET Framework 리소스 관리자를 사용하여 지역화된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-103">Applications rely on the .NET Framework Resource Manager, represented by the <xref:System.Resources.ResourceManager> class, to retrieve localized resources.</span></span> <span data-ttu-id="ac804-104">리소스 관리자는 허브 및 스포크 모델이 리소스 패키지 및 배포에 사용된다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-104">The Resource Manager assumes that a hub and spoke model is used to package and deploy resources.</span></span> <span data-ttu-id="ac804-105">허브는 지역화할 수 없는 실행 코드와 중립 또는 기본 문화권이라고 하는 단일 문화권의 리소스를 포함하는 주 어셈블리입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-105">The hub is the main assembly that contains the nonlocalizable executable code and the resources for a single culture, called the neutral or default culture.</span></span> <span data-ttu-id="ac804-106">기본 문화권은 애플리케이션의 대체 문화권으로, 지역화된 리소스를 찾을 수 없는 경우 해당 리소스가 사용되는 문화권입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-106">The default culture is the fallback culture for the application; it is the culture whose resources are used if localized resources cannot be found.</span></span> <span data-ttu-id="ac804-107">각 스포크는 단일 문화권의 리소스를 포함하지만 코드는 포함하지 않는 위성 어셈블리에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-107">Each spoke connects to a satellite assembly that contains the resources for a single culture, but does not contain any code.</span></span>

<span data-ttu-id="ac804-108">이 모델에는 다음과 같은 몇 가지 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-108">There are several advantages to this model:</span></span>

- <span data-ttu-id="ac804-109">애플리케이션을 배포한 후 새로운 문화권에 대한 리소스를 증분 방식으로 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-109">You can incrementally add resources for new cultures after you have deployed an application.</span></span> <span data-ttu-id="ac804-110">문화권 관련 리소스의 후속 개발에 상당한 시간이 필요할 수 있기 때문에 주 애플리케이션을 먼저 릴리스한 다음 나중에 문화권 관련 리소스를 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-110">Because subsequent development of culture-specific resources can require a significant amount of time, this allows you to release your main application first, and deliver culture-specific resources at a later date.</span></span>

- <span data-ttu-id="ac804-111">애플리케이션을 다시 컴파일하지 않고 애플리케이션의 위성 어셈블리를 업데이트하고 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-111">You can update and change an application's satellite assemblies without recompiling the application.</span></span>

- <span data-ttu-id="ac804-112">애플리케이션은 특정 문화권에 필요한 리소스를 포함하는 위성 어셈블리만 로드해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-112">An application needs to load only those satellite assemblies that contain the resources needed for a particular culture.</span></span> <span data-ttu-id="ac804-113">이렇게 하면 시스템 리소스의 사용을 훨씬 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-113">This can significantly reduce the use of system resources.</span></span>

 <span data-ttu-id="ac804-114">그러나 이 모델에는 다음과 같은 단점도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-114">However, there are also disadvantages to this model:</span></span>

- <span data-ttu-id="ac804-115">여러 개의 리소스 집합을 관리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-115">You must manage multiple sets of resources.</span></span>

- <span data-ttu-id="ac804-116">여러 구성을 테스트해야 하기 때문에 애플리케이션을 테스트하는 초기 비용이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-116">The initial cost of testing an application increases, because you must test several configurations.</span></span> <span data-ttu-id="ac804-117">장기적으로는 여러 개의 병렬 국제 버전을 테스트 및 유지 관리하는 것보다 여러 개의 위성 어셈블리가 있는 핵심 애플리케이션 하나를 테스트하는 것이 더 쉽고 저렴합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-117">Note that in the long term it will be easier and less expensive to test one core application with several satellites, than to test and maintain several parallel international versions.</span></span>

## <a name="resource-naming-conventions"></a><span data-ttu-id="ac804-118">리소스 명명 규칙</span><span class="sxs-lookup"><span data-stu-id="ac804-118">Resource Naming Conventions</span></span>

<span data-ttu-id="ac804-119">애플리케이션의 리소스를 패키지할 때는 공용 언어 런타임에서 적용하는 리소스 명명 규칙을 사용하여 이름을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-119">When you package your application's resources, you must name them using the resource naming conventions that the common language runtime expects.</span></span> <span data-ttu-id="ac804-120">런타임에서는 문화권 이름으로 리소스를 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-120">The runtime identifies a resource by its culture name.</span></span> <span data-ttu-id="ac804-121">각 문화권에는 일반적으로 언어와 관련된 2자의 소문자 문화권 이름과 필요한 경우 국가 또는 지역과 관련된 2자의 대문자 하위 문화권 이름이 조합된 고유한 이름이 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-121">Each culture is given a unique name, which is usually a combination of a two-letter, lowercase culture name associated with a language and, if required, a two-letter, uppercase subculture name associated with a country or region.</span></span> <span data-ttu-id="ac804-122">하위 문화권 이름이 문화권 이름 다음에 추가되고 대시(-)로 구분됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-122">The subculture name follows the culture name, separated by a dash (-).</span></span> <span data-ttu-id="ac804-123">예를 들어 일본에서 사용되는 일본어는 ja-JP, 미국에서 사용되는 영어는 en-US, 독일에서 사용되는 독일어는 de-DE, 오스트리아에서 사용되는 독일어는 de-AT입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-123">Examples include ja-JP for Japanese as spoken in Japan, en-US for English as spoken in the United States, de-DE for German as spoken in Germany, or de-AT for German as spoken in Austria.</span></span> <span data-ttu-id="ac804-124">[Windows에서 지원하는 언어/지역 이름 목록](https://docs.microsoft.com/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c)의 **언어 태그** 열을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-124">See the **Language tag** column in the [list of language/region names supported by Windows](https://docs.microsoft.com/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c).</span></span> <span data-ttu-id="ac804-125">문화권 이름은 [BCP 47](https://tools.ietf.org/html/bcp47)에 정의된 표준을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-125">Culture names follow the standard defined by [BCP 47](https://tools.ietf.org/html/bcp47).</span></span>

> [!NOTE]
> <span data-ttu-id="ac804-126">리소스 파일을 만드는 방법에 대한 자세한 내용은 [리소스 파일 만들기](creating-resource-files-for-desktop-apps.md) 및 [위성 어셈블리 만들기](creating-satellite-assemblies-for-desktop-apps.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-126">For information about creating resource files, see [Creating Resource Files](creating-resource-files-for-desktop-apps.md) and [Creating Satellite Assemblies](creating-satellite-assemblies-for-desktop-apps.md).</span></span>

<a name="cpconpackagingdeployingresourcesanchor1"></a>

## <a name="the-resource-fallback-process"></a><span data-ttu-id="ac804-127">리소스 대체 프로세스</span><span class="sxs-lookup"><span data-stu-id="ac804-127">The Resource Fallback Process</span></span>

<span data-ttu-id="ac804-128">리소스를 패키지 및 배포하는 분산형 모델에서는 대체 프로세스를 통해 적절한 리소스를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-128">The hub and spoke model for packaging and deploying resources uses a fallback process to locate appropriate resources.</span></span> <span data-ttu-id="ac804-129">애플리케이션이 사용할 수 없는 지역화된 리소스를 요청할 경우 공용 언어 런타임은 문화권 계층 구조에서 사용자의 애플리케이션 요청과 가장 일치하는 적절한 대체 리소스를 검색하며, 어떠한 리소스도 찾을 수 없을 때만 예외를 throw합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-129">If an application requests a localized resource  that is unavailable, the common language runtime searches the hierarchy of cultures for an appropriate fallback resource that most closely matches the user's application's request, and throws an exception only as a last resort.</span></span> <span data-ttu-id="ac804-130">계층 구조의 각 수준에서 적절한 리소스가 발견되면 런타임에서 해당 리소스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-130">At each level of the hierarchy, if an appropriate resource is found, the runtime uses it.</span></span> <span data-ttu-id="ac804-131">리소스가 발견되지 않으면 검색이 다음 수준으로 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-131">If the resource is not found, the search continues at the next level.</span></span>

<span data-ttu-id="ac804-132">조회 성능을 향상하려면 주 어셈블리에 <xref:System.Resources.NeutralResourcesLanguageAttribute> 특성을 적용하고 주 어셈블리에서 작동하는 중립 언어의 이름을 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-132">To improve lookup performance, apply the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to your main assembly, and pass it the name of the neutral language that will work with your main assembly.</span></span>

### <a name="net-framework-resource-fallback-process"></a><span data-ttu-id="ac804-133">.NET Framework 리소스 대체 프로세스</span><span class="sxs-lookup"><span data-stu-id="ac804-133">.NET Framework resource fallback process</span></span>

<span data-ttu-id="ac804-134">.NET Framework 리소스 대체 프로세스에는 다음 단계가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-134">The .NET Framework resource fallback process involves the following steps:</span></span>

> [!TIP]
> <span data-ttu-id="ac804-135">[ \<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) 구성 요소를 사용하여 런타임이 리소스 어셈블리를 검색하는 프로세스 및 리소스 대체 프로세스를 최적화할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-135">You may be able to use the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) configuration element to optimize the resource fallback process and the process by which the runtime probes for resource assemblies.</span></span> <span data-ttu-id="ac804-136">자세한 내용은 [리소스 대체 프로세스 최적화](packaging-and-deploying-resources-in-desktop-apps.md#Optimizing) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-136">For more information, see the [Optimizing the Resource Fallback Process](packaging-and-deploying-resources-in-desktop-apps.md#Optimizing) section.</span></span>

1. <span data-ttu-id="ac804-137">런타임은 먼저 [전역 어셈블리 캐시](../app-domains/gac.md)에서 애플리케이션에 대해 요청된 문화권과 일치하는 어셈블리를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-137">The runtime first checks the [global assembly cache](../app-domains/gac.md) for an assembly that matches the requested culture for your application.</span></span>

     <span data-ttu-id="ac804-138">전역 어셈블리 캐시는 많은 애플리케이션이 공유하는 리소스 어셈블리를 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-138">The global assembly cache can store resource assemblies that are shared by many applications.</span></span> <span data-ttu-id="ac804-139">이렇게 하면 만드는 모든 애플리케이션의 디렉터리 구조에 특정 리소스 집합을 포함할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-139">This frees you from having to include specific sets of resources in the directory structure of every application you create.</span></span> <span data-ttu-id="ac804-140">런타임은 어셈블리에 대한 참조를 발견할 경우 어셈블리에서 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-140">If the runtime finds a reference to the assembly, it searches the assembly for the requested resource.</span></span> <span data-ttu-id="ac804-141">어셈블리에서 항목을 찾으면 요청된 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-141">If it finds the entry in the assembly, it uses the requested resource.</span></span> <span data-ttu-id="ac804-142">항목을 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-142">If it doesn't find the entry, it continues the search.</span></span>

2. <span data-ttu-id="ac804-143">그런 다음, 런타임은 현재 실행 중인 어셈블리의 디렉터리에서 요청된 문화권과 일치하는 하위 디렉터리를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-143">The runtime next checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="ac804-144">하위 디렉터리를 찾으면 해당 하위 디렉터리에서 요청된 문화권에 유효한 위성 어셈블리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-144">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture.</span></span> <span data-ttu-id="ac804-145">그다음 런타임은 위성 어셈블리에서 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-145">The runtime then searches the satellite assembly for the requested resource.</span></span> <span data-ttu-id="ac804-146">어셈블리에서 리소스를 찾으면 해당 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-146">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="ac804-147">리소스를 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-147">If it doesn't find the resource, it continues the search.</span></span>

3. <span data-ttu-id="ac804-148">그다음 런타임은 Windows Installer를 쿼리하여 요청 시 위성 어셈블리를 설치할지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-148">The runtime next queries the Windows Installer to determine whether the satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="ac804-149">설치할 경우 설치를 처리하고, 어셈블리를 로드한 다음 어셈블리나 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-149">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="ac804-150">어셈블리에서 리소스를 찾으면 해당 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-150">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="ac804-151">리소스를 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-151">If it doesn't find the resource, it continues the search.</span></span>

4. <span data-ttu-id="ac804-152">런타임은 <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> 이벤트를 발생시켜 위성 어셈블리를 찾을 수 없음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-152">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="ac804-153">이벤트를 처리하도록 선택한 경우 이벤트 처리기에서 조회에 해당 리소스가 사용되는 위성 어셈블리에 대한 참조를 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-153">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="ac804-154">이벤트를 처리하지 않는 경우 이벤트 처리기에서 `null`을 반환하고 검색이 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-154">Otherwise, the event handler returns `null` and the search continues.</span></span>

5. <span data-ttu-id="ac804-155">그다음 런타임은 전역 어셈블리 캐시에서 이번에는 요청된 문화권의 부모 어셈블리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-155">The runtime next searches the global assembly cache again, this time for the parent assembly of the requested culture.</span></span> <span data-ttu-id="ac804-156">부모 어셈블리가 전역 어셈블리 캐시에 있을 경우 런타임은 어셈블리에서 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-156">If the parent assembly exists in the global assembly cache, the runtime searches the assembly for the requested resource.</span></span>

     <span data-ttu-id="ac804-157">부모 문화권은 적절한 대체 문화권으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-157">The parent culture is defined as the appropriate fallback culture.</span></span> <span data-ttu-id="ac804-158">리소스를 제공하는 것이 예외를 throw하는 것보다 낫기 때문에 부모를 대체 후보로 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-158">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="ac804-159">이 프로세스를 통해 리소스를 다시 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-159">This process also allows you to reuse resources.</span></span> <span data-ttu-id="ac804-160">자식 문화권이 요청된 리소스를 지역화할 필요가 없는 경우에만 부모 수준에 특정 리소스를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-160">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="ac804-161">예를 들어 `en`(중립 영어), `en-GB`(영국에서 사용되는 영어) 및 `en-US`(미국에서 사용되는 영어)에 대한 위성 어셈블리를 제공하는 경우 `en` 위성에 일반적인 용어가 포함되고, `en-GB` 및 `en-US` 위성은 차이가 있는 용어에 대한 재정의만 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-161">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite would contain the common terminology, and the `en-GB` and `en-US` satellites could provide overrides for only those terms that differ.</span></span>

6. <span data-ttu-id="ac804-162">그다음 런타임은 현재 실행 중인 어셈블리의 디렉터리를 검사하여 부모 디렉터리가 포함되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-162">The runtime next checks the directory of the currently executing assembly to see if it contains a parent directory.</span></span> <span data-ttu-id="ac804-163">부모 디렉터리가 있을 경우 런타임은 디렉터리에서 부모 문화권에 대한 유효한 위성 어셈블리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-163">If a parent directory exists, the runtime searches the directory for a valid satellite assembly for the parent culture.</span></span> <span data-ttu-id="ac804-164">런타임은 어셈블리를 발견할 경우 어셈블리에서 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-164">If it finds the assembly, the runtime searches the assembly for the requested resource.</span></span> <span data-ttu-id="ac804-165">리소스를 찾으면 해당 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-165">If it finds the resource, it uses it.</span></span> <span data-ttu-id="ac804-166">리소스를 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-166">If it doesn't find the resource, it continues the search.</span></span>

7. <span data-ttu-id="ac804-167">그다음 런타임은 Windows Installer를 쿼리하여 요청 시 부모 위성 어셈블리를 설치할지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-167">The runtime next queries the Windows Installer to determine whether the parent satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="ac804-168">설치할 경우 설치를 처리하고, 어셈블리를 로드한 다음 어셈블리나 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-168">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="ac804-169">어셈블리에서 리소스를 찾으면 해당 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-169">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="ac804-170">리소스를 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-170">If it doesn't find the resource, it continues the search.</span></span>

8. <span data-ttu-id="ac804-171">런타임은 <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> 이벤트를 발생시켜 적절한 대체 리소스를 찾을 수 없음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-171">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find an appropriate fallback resource.</span></span> <span data-ttu-id="ac804-172">이벤트를 처리하도록 선택한 경우 이벤트 처리기에서 조회에 해당 리소스가 사용되는 위성 어셈블리에 대한 참조를 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-172">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="ac804-173">이벤트를 처리하지 않는 경우 이벤트 처리기에서 `null`을 반환하고 검색이 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-173">Otherwise, the event handler returns `null` and the search continues.</span></span>

9. <span data-ttu-id="ac804-174">그다음 런타임은 앞의 세 단계와 마찬가지로 가능한 여러 수준에서 부모 어셈블리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-174">The runtime next searches parent assemblies, as in the previous three steps, through many potential levels.</span></span> <span data-ttu-id="ac804-175">각 문화권에는 <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> 속성으로 정의된 부모 하나만 있지만 부모가 해당 부모를 포함할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-175">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="ac804-176">문화권의 <xref:System.Globalization.CultureInfo.Parent%2A> 속성이 <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>을 반환하면 부모 문화권 검색이 중지됩니다. 리소스 대체에서 고정 문화권은 부모 문화권 또는 리소스를 가질 수 있는 문화권으로 간주되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-176">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>; for resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

10. <span data-ttu-id="ac804-177">원래 지정된 문화권 및 모든 부모를 검색했지만 리소스를 찾지 못하면 기본(대체) 문화권의 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-177">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="ac804-178">일반적으로 기본 문화권의 리소스는 주 애플리케이션 어셈블리에 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-178">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="ac804-179">그러나 <xref:System.Resources.NeutralResourcesLanguageAttribute> 특성의 <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> 속성에 대해 <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> 값을 지정하여 리소스의 최종 대체 위치가 주 어셈블리가 아니라 위성 어셈블리임을 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-179">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property of the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the ultimate fallback location for resources is a satellite assembly, rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ac804-180">기본 리소스는 주 어셈블리와 함께 컴파일할 수 있는 유일한 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-180">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="ac804-181"><xref:System.Resources.NeutralResourcesLanguageAttribute> 특성을 사용하여 위성 어셈블리를 지정하지 않을 경우 이 리소스가 최종 대체(최종 부모)입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-181">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="ac804-182">따라서 주 어셈블리에 기본 리소스 집합을 항상 포함하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-182">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="ac804-183">이렇게 하면 예외가 throw되지 않도록 방지하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-183">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="ac804-184">기본 리소스 파일을 포함하여 모든 리소스에 대한 대체를 제공하고 문화권별 리소스는 아니라도 사용자에게 항상 리소스가 하나 이상 제공되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-184">By including a default resource, file you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

11. <span data-ttu-id="ac804-185">마지막으로, 런타임이 기본(대체) 문화권의 리소스를 찾지 못하면 <xref:System.Resources.MissingManifestResourceException> 또는 <xref:System.Resources.MissingSatelliteAssemblyException> 예외가 throw되어 리소스를 찾을 수 없음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-185">Finally, if the runtime doesn't find a resource for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span>

<span data-ttu-id="ac804-186">예를 들어 애플리케이션이 스페인어(멕시코)(`es-MX` 문화권)에 대해 지역화된 리소스를 요청한다고 가정해 보세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-186">For example, suppose the application requests a resource localized for Spanish (Mexico) (the `es-MX` culture).</span></span> <span data-ttu-id="ac804-187">런타임은 먼저 전역 어셈블리 캐시에서 `es-MX`와 일치하는 어셈블리를 검색하지만 찾지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-187">The runtime first searches the global assembly cache for the assembly that matches `es-MX`, but doesn't find it.</span></span> <span data-ttu-id="ac804-188">그런 다음, 런타임은 현재 실행 중인 어셈블리의 디렉터리에서 `es-MX` 디렉터리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-188">The runtime then searches the directory of the currently executing assembly for an `es-MX` directory.</span></span> <span data-ttu-id="ac804-189">이 시도에 실패하여 런타임은 다시 전역 어셈블리 캐시에서 적절한 대체 문화권을 반영하는 부모 어셈블리(이 경우 `es`(스페인어))를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-189">Failing that, the runtime searches the global assembly cache again for a parent assembly that reflects the appropriate fallback culture — in this case, `es` (Spanish).</span></span> <span data-ttu-id="ac804-190">부모 어셈블리를 찾지 못하면 런타임은 해당 리소스를 찾을 때까지 부모 어셈블리의 모든 가능한 수준에서 `es-MX` 문화권을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-190">If the parent assembly is not found, the runtime searches all potential levels of parent assemblies for the `es-MX` culture until it finds a corresponding resource.</span></span> <span data-ttu-id="ac804-191">리소스를 찾지 못하면 런타임은 기본 문화권의 리소스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-191">If a resource isn't found, the runtime uses the resource for the default culture.</span></span>

<a name="Optimizing"></a>

#### <a name="optimizing-the-net-framework-resource-fallback-process"></a><span data-ttu-id="ac804-192">.NET Framework 리소스 대체 프로세스 최적화</span><span class="sxs-lookup"><span data-stu-id="ac804-192">Optimizing the .NET Framework Resource Fallback Process</span></span>

<span data-ttu-id="ac804-193">다음과 같은 경우 런타임이 위성 어셈블리에서 리소스를 검색하는 프로세스를 최적화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-193">Under the following conditions, you can optimize the process by which the runtime searches for resources in satellite assemblies</span></span>

- <span data-ttu-id="ac804-194">위성 어셈블리는 코드 어셈블리와 동일한 위치에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-194">Satellite assemblies are deployed in the same location as the code assembly.</span></span> <span data-ttu-id="ac804-195">코드 어셈블리가 [전역 어셈블리 캐시](../app-domains/gac.md)에 설치된 경우 위성 어셈블리도 전역 어셈블리 캐시에 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-195">If the code assembly is installed in the [Global Assembly Cache](../app-domains/gac.md), satellite assemblies are also installed in the global assembly cache.</span></span> <span data-ttu-id="ac804-196">코드 어셈블리가 디렉터리에 설치된 경우 위성 어셈블리는 해당 디렉터리의 문화권별 폴더에 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-196">If the code assembly is installed in a directory, satellite assemblies are installed in culture-specific folders of that directory.</span></span>

- <span data-ttu-id="ac804-197">위성 어셈블리는 요청 시 설치되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-197">Satellite assemblies are not installed on demand.</span></span>

- <span data-ttu-id="ac804-198">애플리케이션 코드는 <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> 이벤트를 처리하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-198">Application code does not handle the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

<span data-ttu-id="ac804-199">다음 예제와 같이 애플리케이션 구성 파일에 [\<relativeBindForResources&gt;](../configure-apps/file-schema/runtime/relativebindforresources-element.md) 요소를 포함하고 해당 `enabled` 특성을 `true`로 설정하여 위성 어셈블리에 대한 프로브를 최적화합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-199">You optimize the probe for satellite assemblies by including the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) element and setting its `enabled` attribute to `true` in the application configuration file, as shown in the following example.</span></span>

```xml
<configuration>
   <runtime>
      <relativeBindForResources enabled="true" />
   </runtime>
</configuration>
```

<span data-ttu-id="ac804-200">위성 어셈블리에 대해 최적화된 프로브는 옵트인 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-200">The optimized probe for satellite assemblies is an opt-in feature.</span></span> <span data-ttu-id="ac804-201">즉, 런타임은 [\<relativeBindForResources&gt;](../configure-apps/file-schema/runtime/relativebindforresources-element.md) 요소가 애플리케이션의 구성 파일에 있고 해당 `enabled` 특성이 `true`로 설정된 경우가 아니면 [리소스 대체 프로세스](packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1)에 문서화된 단계를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-201">That is, the runtime follows the steps documented in [The Resource Fallback Process](packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1) unless the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) element is present in the application's configuration file and its `enabled` attribute is set to `true`.</span></span> <span data-ttu-id="ac804-202">이런 경우에는 위성 어셈블리 검색 프로세스가 다음과 같이 수정됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-202">If this is the case, the process of probing for a satellite assembly is modified as follows:</span></span>

- <span data-ttu-id="ac804-203">런타임은 부모 코드 어셈블리의 위치를 사용하여 위성 어셈블리를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-203">The runtime uses the location of the parent code assembly to probe for the satellite assembly.</span></span> <span data-ttu-id="ac804-204">부모 어셈블리가 전역 어셈블리 캐시에 설치된 경우 런타임은 캐시에서만 검색하고 애플리케이션 디렉터리에서 검색하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-204">If the parent assembly is installed in the global assembly cache, the runtime probes in the cache but not in the application's directory.</span></span> <span data-ttu-id="ac804-205">부모 어셈블리가 애플리케이션 디렉터리에 설치된 경우 런타임은 애플리케이션 디렉터리에서만 검색하고 전역 어셈블리 캐시에서 검색하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-205">If the parent assembly is installed in an application directory, the runtime probes in the application directory but not in the global assembly cache.</span></span>

- <span data-ttu-id="ac804-206">런타임은 위성 어셈블리의 요청 시 설치에 대해 Windows Installer를 쿼리하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-206">The runtime doesn't query the Windows Installer for on-demand installation of satellite assemblies.</span></span>

- <span data-ttu-id="ac804-207">특정 리소스 어셈블리 검색이 실패할 경우 런타임에서 <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> 이벤트가 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-207">If the probe for a particular resource assembly fails, the runtime does not raise the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

### <a name="net-core-resource-fallback-process"></a><span data-ttu-id="ac804-208">.NET Core 리소스 대체 프로세스</span><span class="sxs-lookup"><span data-stu-id="ac804-208">.NET Core resource fallback process</span></span>

<span data-ttu-id="ac804-209">.NET Core 리소스 대체 프로세스에는 다음 단계가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-209">The .NET Core resource fallback process involves the following steps:</span></span>

1. <span data-ttu-id="ac804-210">런타임에서 요청된 문화권에 대한 위성 어셈블리를 로드하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-210">The runtime attempts to load a satellite assembly for the requested culture.</span></span>
     - <span data-ttu-id="ac804-211">현재 실행 중인 어셈블리의 디렉터리에서 요청된 문화권과 일치하는 하위 디렉터리를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-211">Checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="ac804-212">하위 디렉터리를 찾으면 해당 하위 디렉터리에서 요청된 문화권에 유효한 위성 어셈블리를 검색하고 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-212">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture and loads it.</span></span>

       > [!NOTE]
       > <span data-ttu-id="ac804-213">대/소문자 구분 파일 시스템이 있는 운영 체제(즉, Linux 및 macOS)에서는 문화권 이름 하위 디렉터리 검색이 대/소문자를 구분합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-213">On operating systems with case-sensitive file systems (that is, Linux and macOS), the culture name subdirectory search is case-sensitive.</span></span> <span data-ttu-id="ac804-214">하위 디렉터리 이름은 <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>(예: `es` 또는 `es-MX`)의 대/소문자와 정확히 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-214">The subdirectory name must exactly match the case of the <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> (for example, `es` or `es-MX`).</span></span>

       > [!NOTE]
       > <span data-ttu-id="ac804-215">프로그래머가 <xref:System.Runtime.Loader.AssemblyLoadContext>에서 사용자 지정 어셈블리 로드 컨텍스트를 파생한 경우에는 상황이 복잡합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-215">If the programmer has derived a custom assembly load context from <xref:System.Runtime.Loader.AssemblyLoadContext>, the situation is complicated.</span></span> <span data-ttu-id="ac804-216">실행 중인 어셈블리가 사용자 지정 컨텍스트에 로드된 경우 런타임에서 위성 어셈블리를 사용자 지정 컨텍스트에 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-216">If the executing assembly was loaded into the custom context, the runtime loads the satellite assembly into the custom context.</span></span> <span data-ttu-id="ac804-217">세부 정보는 이 문서의 범위를 벗어납니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-217">The details are out of scope for this document.</span></span> <span data-ttu-id="ac804-218"><xref:System.Runtime.Loader.AssemblyLoadContext>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-218">See  <xref:System.Runtime.Loader.AssemblyLoadContext>.</span></span>

     - <span data-ttu-id="ac804-219">위성 어셈블리를 찾지 못한 경우 <xref:System.Runtime.Loader.AssemblyLoadContext>에서 <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> 이벤트를 실행하여 위성 어셈블리를 찾을 수 없음을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-219">If a satellite assemble has not been found, the <xref:System.Runtime.Loader.AssemblyLoadContext> raises the <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="ac804-220">이벤트를 처리하도록 선택하면 이벤트 처리기가 위성 어셈블리에 대한 참조를 로드하고 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-220">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>
     - <span data-ttu-id="ac804-221">그래도 위성 어셈블리를 찾지 못하면 AssemblyLoadContext에서 AppDomain이 <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> 이벤트를 트리거하여 위성 어셈블리를 찾을 수 없음을 표시하게 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-221">If a satellite assembly still has not been found, the AssemblyLoadContext causes the AppDomain to trigger an <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="ac804-222">이벤트를 처리하도록 선택하면 이벤트 처리기가 위성 어셈블리에 대한 참조를 로드하고 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-222">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>

2. <span data-ttu-id="ac804-223">위성 어셈블리가 발견되면 런타임에서 요청된 리소스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-223">If a satellite assembly is found, the runtime searches it for the requested resource.</span></span> <span data-ttu-id="ac804-224">어셈블리에서 리소스를 찾으면 해당 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-224">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="ac804-225">리소스를 찾지 못하면 검색을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-225">If it doesn't find the resource, it continues the search.</span></span>

     > [!NOTE]
     > <span data-ttu-id="ac804-226">위성 어셈블리 내의 리소스를 찾기 위해 런타임은 <xref:System.Resources.ResourceManager>에서 현재 <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>에 대해 요청한 리소스 파일을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-226">To find a resource within the satellite assembly, the runtime searches for the resource file requested by the <xref:System.Resources.ResourceManager> for the current <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ac804-227">리소스 파일 내에서 요청된 리소스 이름을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-227">Within the resource file it searches for the requested resource name.</span></span> <span data-ttu-id="ac804-228">둘 중 하나라도 찾지 못하면 리소스가 찾을 수 없는 것으로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-228">If either is not found, the resource is treated as not found.</span></span>

3. <span data-ttu-id="ac804-229">런타임은 다음에 여러 잠재적인 수준에서 부모 문화권 어셈블리를 검색하며 매번 1-2단계를 반복합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-229">The runtime next searches the parent culture assemblies through many potential levels, each time repeating steps 1 & 2.</span></span>

     <span data-ttu-id="ac804-230">부모 문화권은 적절한 대체 문화권으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-230">The parent culture is defined as an appropriate fallback culture.</span></span> <span data-ttu-id="ac804-231">리소스를 제공하는 것이 예외를 throw하는 것보다 낫기 때문에 부모를 대체 후보로 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-231">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="ac804-232">이 프로세스를 통해 리소스를 다시 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-232">This process also allows you to reuse resources.</span></span> <span data-ttu-id="ac804-233">자식 문화권이 요청된 리소스를 지역화할 필요가 없는 경우에만 부모 수준에 특정 리소스를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-233">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="ac804-234">예를 들어 `en`(중립 영어), `en-GB`(영국에서 사용되는 영어) 및 `en-US`(미국에서 사용되는 영어)에 대한 위성 어셈블리를 제공하는 경우 `en` 위성에 일반적인 용어가 포함되고, `en-GB` 및 `en-US` 위성은 차이가 있는 용어에 대한 재정의만 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-234">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite contains the common terminology, and the `en-GB` and `en-US` satellites provides overrides for only those terms that differ.</span></span>

     <span data-ttu-id="ac804-235">각 문화권에는 <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> 속성으로 정의된 부모 하나만 있지만 부모가 해당 부모를 포함할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-235">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="ac804-236">문화권의 <xref:System.Globalization.CultureInfo.Parent%2A> 속성이 <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>을 반환하면 부모 문화권 검색이 중지됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-236">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ac804-237">리소스 대체에서 고정 문화권은 부모 문화권 또는 리소스를 가질 수 있는 문화권으로 간주되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-237">For resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

4. <span data-ttu-id="ac804-238">원래 지정된 문화권 및 모든 부모를 검색했지만 리소스를 찾지 못하면 기본(대체) 문화권의 리소스가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-238">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="ac804-239">일반적으로 기본 문화권의 리소스는 주 애플리케이션 어셈블리에 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-239">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="ac804-240">그러나 <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> 속성에 대해 <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> 값을 지정하여 리소스의 최종 대체 위치가 주 어셈블리가 아니라 위성 어셈블리임을 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-240">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property to indicate that the ultimate fallback location for resources is a satellite assembly rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ac804-241">기본 리소스는 주 어셈블리와 함께 컴파일할 수 있는 유일한 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-241">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="ac804-242"><xref:System.Resources.NeutralResourcesLanguageAttribute> 특성을 사용하여 위성 어셈블리를 지정하지 않을 경우 이 리소스가 최종 대체(최종 부모)입니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-242">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="ac804-243">따라서 주 어셈블리에 기본 리소스 집합을 항상 포함하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-243">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="ac804-244">이렇게 하면 예외가 throw되지 않도록 방지하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-244">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="ac804-245">기본 리소스 파일을 포함하여 모든 리소스에 대한 대체를 제공하고 문화권별 리소스는 아니라도 사용자에게 항상 리소스가 하나 이상 제공되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-245">By including a default resource file, you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

5. <span data-ttu-id="ac804-246">마지막으로, 런타임이 기본(대체) 문화권의 리소스 파일을 찾지 못하면 <xref:System.Resources.MissingManifestResourceException> 또는 <xref:System.Resources.MissingSatelliteAssemblyException> 예외가 throw되어 리소스를 찾을 수 없음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-246">Finally, if the runtime doesn't find a resource file for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span> <span data-ttu-id="ac804-247">리소스 파일이 있지만 요청된 리소스가 없는 경우 요청에서 `null`을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-247">If the resource file is found but the requested resource is not present the request returns `null`.</span></span>

### <a name="ultimate-fallback-to-satellite-assembly"></a><span data-ttu-id="ac804-248">위성 어셈블리에 대한 최종 대체</span><span class="sxs-lookup"><span data-stu-id="ac804-248">Ultimate Fallback to Satellite Assembly</span></span>

<span data-ttu-id="ac804-249">필요에 따라 주 어셈블리에서 리소스를 제거하고 런타임이 특정 문화권에 해당하는 위성 어셈블리에서 최종 대체 리소스를 로드하도록 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-249">You can optionally remove resources from the main assembly and specify that the runtime should load the ultimate fallback resources from a satellite assembly that corresponds to a specific culture.</span></span> <span data-ttu-id="ac804-250">대체 프로세스를 제어하려면 <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29?displayProperty=nameWithType> 생성자를 사용하고 리소스 관리자가 주 어셈블리 또는 위성 어셈블리에서 대체 리소스를 추출해야 하는지를 지정하는 <xref:System.Resources.UltimateResourceFallbackLocation> 매개 변수의 값을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-250">To control the fallback process, you use the <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29?displayProperty=nameWithType> constructor and supply a value for the <xref:System.Resources.UltimateResourceFallbackLocation> parameter that specifies whether Resource Manager should extract the fallback resources from the main assembly or from a satellite assembly.</span></span>

<span data-ttu-id="ac804-251">다음 .NET Framework 예제에서는 <xref:System.Resources.NeutralResourcesLanguageAttribute> 특성을 사용하여 프랑스어(`fr`)에 대한 위성 어셈블리에 애플리케이션의 대체 리소스를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-251">The following .NET Framework example uses the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to store an application's fallback resources in a satellite assembly for the French (`fr`) language.</span></span> <span data-ttu-id="ac804-252">이 예제에는 `Greeting`이라는 단일 문자열 리소스를 정의하는 두 개의 텍스트 기반 리소스 파일이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-252">The example has two text-based resource files that define a single string resource named `Greeting`.</span></span> <span data-ttu-id="ac804-253">첫 번째 resources.fr.txt에는 프랑스어 리소스가 들어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-253">The first, resources.fr.txt, contains a French language resource.</span></span>

```text
Greeting=Bon jour!
```

<span data-ttu-id="ac804-254">두 번째 resources,ru.txt에는 러시아어 리소스가 들어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-254">The second, resources,ru.txt, contains a Russian language resource.</span></span>

```text
Greeting=Добрый день
```

<span data-ttu-id="ac804-255">명령줄에서 [리소스 파일 생성기(Resgen.exe)](../tools/resgen-exe-resource-file-generator.md)를 실행하여 이러한 두 파일을 .resources 파일로 컴파일합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-255">These two files are compiled to .resources files by running the [resource file generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) from the command line.</span></span> <span data-ttu-id="ac804-256">프랑스어 리소스에 대한 명령은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-256">For the French language resource, the command is:</span></span>

<span data-ttu-id="ac804-257">**resgen.exe resources.fr.txt**</span><span class="sxs-lookup"><span data-stu-id="ac804-257">**resgen.exe resources.fr.txt**</span></span>

<span data-ttu-id="ac804-258">러시아어 리소스에 대한 명령은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-258">For the Russian language resource, the command is:</span></span>

<span data-ttu-id="ac804-259">**resgen.exe resources.ru.txt**</span><span class="sxs-lookup"><span data-stu-id="ac804-259">**resgen.exe resources.ru.txt**</span></span>

<span data-ttu-id="ac804-260">프랑스어 리소스에 대한 명령줄에서 다음과 같이 [어셈블리 링커(Al.exe)](../tools/al-exe-assembly-linker.md) 명령을 실행하여 .resources 파일을 동적 연결 라이브러리에 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-260">The .resources files are embedded into dynamic link libraries by running [assembly linker (Al.exe)](../tools/al-exe-assembly-linker.md) from the command line for the French language resource as follows:</span></span>

<span data-ttu-id="ac804-261">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="ac804-261">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span></span>

<span data-ttu-id="ac804-262">러시아어 리소스의 경우 다음과 같이 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-262">and for the Russian language resource as follows:</span></span>

<span data-ttu-id="ac804-263">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="ac804-263">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span></span>

<span data-ttu-id="ac804-264">애플리케이션 소스 코드는 Example1.cs 또는 Example1.vb라는 파일에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-264">The application source code resides in a file named Example1.cs or Example1.vb.</span></span> <span data-ttu-id="ac804-265"><xref:System.Resources.NeutralResourcesLanguageAttribute> 특성을 포함하여 기본 애플리케이션 리소스가 fr 하위 디렉터리에 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-265">It includes the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the default application resource is in the fr subdirectory.</span></span> <span data-ttu-id="ac804-266">리소스 관리자를 인스턴스화하고, `Greeting` 리소스의 값을 검색하여 콘솔에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-266">It instantiates the Resource Manager, retrieves the value of the `Greeting` resource, and displays it to the console.</span></span>

[!code-csharp[Conceptual.Resources.Packaging#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.packaging/cs/example1.cs#1)]
[!code-vb[Conceptual.Resources.Packaging#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.packaging/vb/example1.vb#1)]

<span data-ttu-id="ac804-267">명령줄에서 다음과 같이 C# 소스 코드를 컴파일할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-267">You can then compile C# source code from the command line as follows:</span></span>

```console
csc Example1.cs
```

<span data-ttu-id="ac804-268">Visual Basic 컴파일러에 대한 명령도 다음과 같이 매우 유사합니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-268">The command for the Visual Basic compiler is very similar:</span></span>

```console
vbc Example1.vb
```

<span data-ttu-id="ac804-269">주 어셈블리에 포함된 리소스가 없기 때문에 `/resource` 스위치를 사용하여 컴파일할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-269">Because there are no resources embedded in the main assembly, you do not have to compile by using the `/resource` switch.</span></span>

<span data-ttu-id="ac804-270">러시아어 이외의 언어를 사용하는 시스템에서 예제를 실행할 경우 다음과 같은 출력이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-270">When you run the example from a system whose language is anything other than Russian, it displays the following output:</span></span>

```output
Bon jour!
```

## <a name="suggested-packaging-alternative"></a><span data-ttu-id="ac804-271">패키징 대체 방법 제안</span><span class="sxs-lookup"><span data-stu-id="ac804-271">Suggested Packaging Alternative</span></span>

<span data-ttu-id="ac804-272">시간 또는 예산 제약 조건으로 인해 애플리케이션이 지원하는 모든 하위 문화권의 리소스 집합을 만들지 못할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-272">Time or budget constraints might prevent you from creating a set of resources for every subculture that your application supports.</span></span> <span data-ttu-id="ac804-273">대신, 부모 문화권에 대해 관련된 모든 하위 문화권이 사용할 수 있는 단일 위성 어셈블리를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-273">Instead, you can create a single satellite assembly for a parent culture that all related subcultures can use.</span></span> <span data-ttu-id="ac804-274">예를 들어 지역별 영어 리소스를 요청하는 사용자가 검색하는 단일 영어 위성 어셈블리(en) 및 지역별 독일어 리소스를 요청하는 사용자를 위한 단일 독일어 위성 어셈블리(de)를 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-274">For example, you can provide a single English satellite assembly (en) that is retrieved by users who request region-specific English resources, and a single German satellite assembly (de) for users who request region-specific German resources.</span></span> <span data-ttu-id="ac804-275">예를 들어 독일에서 사용되는 독일어(de-DE), 오스트리아에서 사용되는 독일어(de-AT), 스위스에서 사용되는 독일어(de-CH) 요청은 독일어 위성 어셈블리(de)로 대체됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-275">For example, requests for German as spoken in Germany (de-DE), Austria (de-AT), and Switzerland (de-CH) would fall back to the German satellite assembly (de).</span></span> <span data-ttu-id="ac804-276">기본 리소스는 최종 대체라서 대부분의 애플리케이션 사용자가 요청하는 리소스여야 하므로 이러한 리소스를 선택할 때는 주의하세요.</span><span class="sxs-lookup"><span data-stu-id="ac804-276">The default resources are the final fallback and therefore should be the resources that will be requested by the majority of your application's users, so choose these resources carefully.</span></span> <span data-ttu-id="ac804-277">이 접근 방법은 문화권별 성격이 약한 리소스를 배포하지만 애플리케이션의 지역화 비용을 훨씬 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac804-277">This approach deploys resources that are less culturally specific, but can significantly reduce your application's localization costs.</span></span>

## <a name="see-also"></a><span data-ttu-id="ac804-278">참고 항목</span><span class="sxs-lookup"><span data-stu-id="ac804-278">See also</span></span>

- [<span data-ttu-id="ac804-279">데스크톱 앱의 리소스</span><span class="sxs-lookup"><span data-stu-id="ac804-279">Resources in Desktop Apps</span></span>](index.md)
- [<span data-ttu-id="ac804-280">전역 어셈블리 캐시</span><span class="sxs-lookup"><span data-stu-id="ac804-280">Global Assembly Cache</span></span>](../app-domains/gac.md)
- [<span data-ttu-id="ac804-281">리소스 파일 만들기</span><span class="sxs-lookup"><span data-stu-id="ac804-281">Creating Resource Files</span></span>](creating-resource-files-for-desktop-apps.md)
- [<span data-ttu-id="ac804-282">위성 어셈블리 만들기</span><span class="sxs-lookup"><span data-stu-id="ac804-282">Creating Satellite Assemblies</span></span>](creating-satellite-assemblies-for-desktop-apps.md)
