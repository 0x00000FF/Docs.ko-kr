---
title: "클래스와 구조체 간의 선택 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "클래스 라이브러리 디자인 지침 [.NET Framework] 구조"
  - "클래스 라이브러리 디자인 지침 [.NET Framework] 클래스"
  - "클래스 및 구조체 [.NET Framework]"
  - "클래스 [.NET Framework] 디자인 지침"
  - "구조 형식 디자인 지침"
  - "구조체 [.NET Framework] 디자인 지침"
  - "구조체와 비교 클래스 [.NET Framework]"
  - "클래스 형식 디자인 지침"
ms.assetid: f8b8ec9b-0ba7-4dea-aadf-a93395cd804f
caps.latest.revision: 11
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 11
---
# 클래스와 구조체 간의 선택
모든 프레임 워크 디자이너를 향하도록 기본 설계 결정 사항 중 하나 \(예: 참조 형식\)는 클래스 또는 구조체 \(값 형식\)으로 형식을 디자인 여부입니다. 참조 형식 및 값 형식의 동작의 차이점에 대해 잘 이해 하는 것은이 선택 하는 중요 합니다.  
  
 참조 형식과 값을 검토해 보겠습니다의 첫 번째 차이점은 참조 형식 및 가비지 수집 힙에 할당 되어 할당 취소 되 면 포함 하는 형식 또는 값 형식 스택 또는 형식이 포함 된 인라인에 할당 하 고 스택을 해제할 때의 할당이 취소 됩니다. 따라서 할당 및 할당 해제 값 형식의 일반적인 할당 및 할당 해제 참조 형식 보다 저렴 하 게 됩니다.  
  
 다음으로, 형식은 참조의 배열 힙에 있는 참조 형식의 인스턴스에 대 한 정당한 참조 아웃 아웃오브 라인, 배열 요소의 의미를 할당 합니다. 값 형식 배열 배열 요소 값 형식의 실제 인스턴스 즉 인라인을 할당 됩니다. 따라서 할당 및 할당 해제 값 형식 배열의 할당 및 할당 해제의 참조 형식 배열 보다 훨씬 저렴 합니다. 또한 대부분의 경우 값 형식 배열을 통해 훨씬 더 나은 참조 집약성이를 사용 합니다.  
  
 다음 차이점 메모리 사용과 관련이 있습니다. 값 형식은 참조 형식 또는 구현 하는 인터페이스 중 하나를 캐스팅 하는 경우 boxed 가져옵니다. 쓰던 unboxed 값 형식으로 다시 캐스팅 하는 경우. 상자 개체 힙에 할당 된 가비지 수집, 너무 많이 boxing 및 unboxing 때문에 힙, 가비지 수집기 및 궁극적으로 응용 프로그램의 성능에 부정적인 영향을 포함할 수 있습니다.  반면에 이러한 boxing 참조 형식 캐스팅 하는 대로 발생 합니다.  
  
 다음으로, 참조 형식 할당 전체 값을 복사 하는 값 형식을 할당 하는 반면 해당 참조를 복사 합니다. 따라서 큰 참조 형식의 할당은 큰 값 형식의 할당 보다 저렴 합니다.  
  
 마지막으로, 값 형식은 값으로 전달 되는 반면 참조 형식은 참조로 전달 됩니다. 변경으로 인해 참조 형식의 인스턴스는 인스턴스를 가리키는 모든 참조 합니다. 값 형식 인스턴스 값으로 전달 될 때 복사 됩니다. 값 형식의 인스턴스로 변경 되 면 물론 바뀌지 않습니다 복사본 중 하나입니다. 복사본은 사용자가 명시적으로 생성 되지 않습니다 아니지만 전달 되는 인수나 값이 반환 되도록 반환 때 암시적으로 만들어지는 변경할 수 있는 값 형식의 많은 사용자가 혼동할 수 있습니다. 따라서 값 형식을 변경할 수 없어야 합니다.  
  
 경험으로 보아, 대부분의 프레임 워크에 대 한 형식 클래스는 것입니다. 하지만 있습니다 있는 값 형식의 특성 쉽게 구조체를 사용 하 여 보다 적절 한 경우도 있습니다.  
  
 **✓ 고려** 형식 인스턴스의 작고 일반적으로 수명이 또는 일반적으로 다른 개체에 포함 된 경우 클래스 대신 구조체를 정의 합니다.  
  
 **X 방지** 다음과 같은 특징이 있는 모든 형식에 구조체를 정의 합니다.  
  
-   기본 형식으로 유사한 단일 값을 논리적으로 나타냅니다 \(`int`, `double`, 등입니다.\).  
  
-   인스턴스 크기는 16 바이트 미만인 있음  
  
-   변경할 수는 없습니다.  
  
-   자주 상자로 둘러싸여 않아도 됩니다.  
  
 다른 모든 경우에 형식을 클래스로 정의 해야 합니다.  
  
 *부분 © 2005, 2009 Microsoft Corporation. All rights reserved.*  
  
 *피어슨 교육, i n c.에서의 사용 권한 때마다 다시 인쇄 [Framework 디자인 지침: 규칙, 특징 및 다시 사용할 수 있는.NET 라이브러리, 제 2 판에 대 한 패턴](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina 및 Brad Abrams Addison\-wesley Professional에서 2008 년 10 월 22 일 Microsoft Windows 개발 시리즈의 일부로 게시 합니다.*  
  
## 참고 항목  
 [형식 디자인 지침](../../../docs/standard/design-guidelines/type.md)   
 [프레임 워크 디자인 지침](../../../docs/standard/design-guidelines/index.md)