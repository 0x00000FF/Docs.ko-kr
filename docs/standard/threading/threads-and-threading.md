---
title: "스레드 및 스레딩"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- multiple threads
- threading [.NET Framework]
- threading [.NET Framework], multiple threads
ms.assetid: 5baac3aa-e603-4fa6-9f89-0f2c1084e6b1
caps.latest.revision: "14"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: b57cac34009e13c27c6d34a0ab402f9ecbe08305
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/21/2017
---
# <a name="threads-and-threading"></a>스레드 및 스레딩
운영 체제를 다른 실행 중인 다른 응용 프로그램 프로세스를 사용 합니다. 스레드는 운영 체제를 있는 프로세서 시간을 할당 하는 기본 단위 및 둘 이상의 스레드가 해당 프로세스 내에서 코드를 실행할 수 있습니다. 각 스레드 예외 처리기, 일정 예약 우선 순위 및 작업이 예약 되는 때까지 스레드 컨텍스트를 저장 하는 시스템에서 사용 하는 구조 집합을 유지 관리 합니다. 스레드 컨텍스트 스레드가 스레드 호스트 프로세스의 주소 공간에서의 CPU 레지스터와 스택 스레드의 집합을 포함 하 여 실행을 다시 시작 하는 데 필요한 모든 정보가 포함 되어 있습니다.  
  
 .NET Framework를 추가 응용 프로그램 도메인을 나타내는 호출 하는 간단한 관리 되는 하위 나눌 운영 체제 프로세스 <xref:System.AppDomain?displayProperty=nameWithType>합니다. 하나 이상의 관리 되는 스레드 (나타내는 <xref:System.Threading.Thread?displayProperty=nameWithType>) 동일한 관리 되는 프로세스 내에서 응용 프로그램 도메인의 하나 이상을 수에서 실행할 수 있습니다. 각 응용 프로그램 도메인은 단일 스레드 시작 하지만 해당 응용 프로그램 도메인에 코드 추가 응용 프로그램 도메인과 추가 스레드를 만들 수 있습니다. 결과 관리 되는 스레드; 관리 되는 동일한 프로세스 내 응용 프로그램 도메인 간에 자유롭게 이동할 수 있습니다. 여러 응용 프로그램 도메인 간에 이동 하는 스레드 하나만 있을 수 있습니다.  
  
 운영 체제에서 지 원하는 선점형 멀티태스킹을 여러 프로세스에서 여러 스레드에서 동시에 실행할의 효과 만듭니다. 이렇게 하기 필요로 하는 스레드 간에 사용 가능한 프로세서 시간을 분할 한 번에 하나씩 각 스레드에 프로세서 시간 조각 할당 합니다. 시간 간격이 경과 되 고 다른 스레드가 실행이 다시 시작 하는 경우 현재 실행 중인 스레드의 일시 중단 됩니다. 시스템에서 다른 스레드 간에 전환 되는 경우 선점 스레드의 스레드 컨텍스트를 저장 하 고 스레드의 스레드 큐에 저장 된 스레드 컨텍스트를 다시 로드 합니다.  
  
 시간 간격의 길이 운영 체제 및 프로세서에 따라 달라 집니다. 각 시간 조각은 작은 이기 때문에 프로세서가 하나 밖에 없는 경우에 여러 스레드가 같은 시간에 실행 되는 것 나타납니다. 이 경우 실제로 다중 프로세서 시스템에서 실행 가능한 스레드가 사용 가능한 프로세서에 분산 되어 있는 합니다.  
  
## <a name="when-to-use-multiple-threads"></a>여러 스레드를 사용 하는 경우  
 사용자 상호 작용에 필요한 소프트웨어를 사용자의 활동에 풍부한 사용자 환경을 제공 하기 위해 최대한 빨리 반응 해야 합니다. 그러나 같은 시간에 사용 하기에 가능한 한 빠르게 사용자에 게 데이터를 표시 하는 데 필요한 계산이 수행 해야 합니다. 결합할 수 하나의 스레드 실행을 사용 하는 사용자 응용 프로그램 [비동기 프로그래밍](../../../docs/standard/asynchronous-programming-patterns/calling-synchronous-methods-asynchronously.md) 와[.NET Framework remoting](http://msdn.microsoft.com/en-us/eccb1d31-0a22-417a-97fd-f4f1f3aa4462) 또는 [XML Web services](http://msdn.microsoft.com/en-us/1e64af78-d705-4384-b08d-591a45f4379c) ASP를 사용 하 여 만든 .NET 사용자 및 응용 프로그램의 데이터 처리 시간이 감소에 대 한 응답성 향상을 위해 직접의 추가적 다른 컴퓨터의 처리 시간을 사용 하 합니다. 많은 입/출력 작업을 수행 하는 경우에 응용 프로그램의 응답성 향상을 위해 I/O 완료 포트를 사용할 수 있습니다.  
  
### <a name="advantages-of-multiple-threads"></a>여러 스레드에서의 장점  
 그러나 둘 이상의 스레드를 사용 하는 사용자에 대 한 응답성을 향상 시키고 작업을 거의 동시에 수행 하는 데 필요한 데이터를 처리할 수 하는 가장 강력한 방법입니다. 프로세서가 두 개 있는 컴퓨터에서는 여러 스레드 백그라운드에서 데이터를 처리 하는 사용자 이벤트 사이의 시간 간격을 활용 하기 위해 이러한 효과 만들 수 있습니다. 예를 들어 사용자는 다른 스레드가 동일한 응용 프로그램 내 스프레드시트의 다른 부분 다시 계산 하는 동안 스프레드시트를 편집할 수 있습니다.  
  
 수정 하지 않고 동일한 응용 프로그램이 여러 개의 프로세서가 있는 컴퓨터에서 실행 하는 경우 사용자 만족도 훨씬 향상 합니다. 단일 응용 프로그램 도메인 여러 스레드를 사용 하 여 다음 작업을 수행할 수 없습니다.  
  
-   웹 서버와 데이터베이스에는 네트워크를 통해 통신 합니다.  
  
-   많은 양의 시간을 사용 하는 작업을 수행 합니다.  
  
-   우선 순위가 다른 작업을 구분 합니다. 예를 들어 높은 우선 순위의 스레드 시간 위험 작업을 관리 하 고 우선 순위가 낮은 스레드가 다른 작업을 수행 합니다.  
  
-   응답성 시간 백그라운드 작업을 할당 하는 동안 사용자 인터페이스를 허용 합니다.  
  
### <a name="disadvantages-of-multiple-threads"></a>여러 스레드에서의 단점  
 가능한, 하므로 운영 체제 리소스 사용을 최소화 하 고 성능을 향상으로 적은 수의 스레드를 사용 하는 것이 좋습니다. 응용 프로그램을 설계할 때 고려해 야 할 리소스 요구 사항과 잠재적 충돌에 스레딩 있습니다. 리소스 요구 사항은 다음과 같습니다.  
  
-   시스템 프로세스에서 필요한 컨텍스트 정보에 대 한 메모리 소모 **AppDomain** 개체 및 스레드입니다. 숫자의 프로세스를 따라서 **AppDomain** 개체 및 스레드를 만들 수 있는 사용 가능한 메모리 크기로 제한 됩니다.  
  
-   많은 수의 스레드는 추적 프로세서 시간이 많이 소요 됩니다. 너무 많은 스레드가 있으면 그 중 대부분은 크게 진행 되지 합니다. 현재 스레드가 대부분 한 프로세스에 있는 다른 프로세스에서 스레드 덜 자주 예약 됩니다.  
  
-   여러 스레드를 사용 하 여 코드 실행을 제어은 복잡 하며, 여러 버그의 원인이 될 수 있습니다.  
  
-   스레드 삭제 발생 하 게 될 알고 있으면 하 고 이러한 문제를 처리 해야 합니다.  
  
 리소스에 대 한 공유 액세스를 제공 하 충돌이 발생할 수 있습니다. 충돌을 방지 하려면 동기화 또는 공유 리소스에 액세스를 제어 해야 합니다. 제대로 같거나 다른 응용 프로그램 도메인에 대 한 액세스를 동기화 하지 않으면 (두 개의 스레드 각를 기다리는 동안 완료를 위해 다른 응답 중지) 교착 상태 같은 문제가 발생할 수 있습니다 (비정상적인 결과 때문에 발생 하는 경우 경쟁 조건 예기치 않은 중요에 대 한 종속성 두 이벤트의 타이밍). 시스템은 리소스 여러 스레드 간 공유를 조정에 사용할 수 있는 동기화 개체를 제공 합니다. 스레드 수를 줄이면 쉽게 자원을 동기화 하 합니다.  
  
 동기화를 필요로 하는 리소스는 다음과 같습니다.  
  
-   시스템 리소스 (예: 통신 포트)입니다.  
  
-   여러 프로세스 (예: 파일 핸들)에서 공유 리소스입니다.  
  
-   단일 응용 프로그램 도메인의 리소스 (전역, 정적 등 인스턴스 필드) 알려주기 위해 사용 합니다.  
  
### <a name="threading-and-application-design"></a>스레딩 및 응용 프로그램 디자인  
 일반적으로 사용 하 여 <xref:System.Threading.ThreadPool> 클래스는 다른 스레드를 차단 하지는 및 작업 스케줄링이 필요 하지 비교적 짧은 작업에 대 한 여러 스레드를 처리 하는 가장 쉬운 방법은 합니다. 그러나 여러 가지 이유로 고유한 스레드를 만들 수 있습니다.  
  
-   특정 우선 순위를 가지도록 작업 해야 합니다.  
  
-   있는 경우 작업 수를 실행 하는 시간이 오래 (다른 작업 차단).  
  
-   단일 스레드 아파트에 스레드를 배치 해야 하는 경우 (모든 **ThreadPool** 스레드는 다중 스레드 아파트에).  
  
-   스레드와 연결 된 안정적인 id가 해야 합니다. 예를 들어 해당 스레드를 중단, 일시 중단, 또는 이름으로 검색 하는 전용된 스레드를 사용 해야 합니다.  
  
-   .NET Framework 버전 2.0에서는 사용자 인터페이스와 상호 작용 하는 백그라운드 스레드를 실행 해야 하는 경우는 <xref:System.ComponentModel.BackgroundWorker> 이벤트를 사용 하 여 사용자 인터페이스 스레드로 마샬링과 스레드 간 통신 구성 요소입니다.  
  
### <a name="threading-and-exceptions"></a>스레딩 및 예외  
 스레드는 예외가 처리 합니다. 스레드의 백그라운드 스레드를 포함 하는 처리 되지 않은 예외는 일반적으로 프로세스를 종료 합니다. 이 규칙에는 다음 세 가지 예외 사항이 있습니다.  
  
-   A <xref:System.Threading.ThreadAbortException> 없으므로 스레드에서 throw <xref:System.Threading.Thread.Abort%2A> 호출 되었습니다.  
  
-   <xref:System.AppDomainUnloadedException> 응용 프로그램 도메인이 언로드되고 있으므로 스레드에 throw 됩니다.  
  
-   공용 언어 런타임 또는 호스트 프로세스에서 스레드를 종료합니다.  
  
 자세한 내용은 참조 [관리 되는 스레드의 예외](../../../docs/standard/threading/exceptions-in-managed-threads.md)합니다.  
  
> [!NOTE]
>  .NET Framework 버전 1.0 및 1.1에서는 공용 언어 런타임 스레드 풀 스레드의 예를 들어 몇 가지 예외를 포착합니다. 이 수 응용 프로그램 상태를 손상 하 고 결국 응용 프로그램이 중단 되 디버깅이 어려워질 수 있습니다.  
  
## <a name="see-also"></a>참고 항목  
 <xref:System.Threading.ThreadPool>  
 <xref:System.ComponentModel.BackgroundWorker>  
 [다중 스레딩을 위한 데이터 동기화](../../../docs/standard/threading/synchronizing-data-for-multithreading.md)  
 [관리되는 스레드 풀](../../../docs/standard/threading/the-managed-thread-pool.md)
